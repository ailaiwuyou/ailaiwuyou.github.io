<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"gaojingbo.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"default"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="在学习es6的过程中，为了方便自己复习，以及查看，对api做了一个简单的用例介绍。">
<meta property="og:type" content="article">
<meta property="og:title" content="ES6学习总结">
<meta property="og:url" content="http://gaojingbo.com/ES6%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93.html">
<meta property="og:site_name" content="数字字母下划线">
<meta property="og:description" content="在学习es6的过程中，为了方便自己复习，以及查看，对api做了一个简单的用例介绍。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://img.gaojingbo.com/image/blog/es6%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93.png">
<meta property="og:image" content="http://img.gaojingbo.com/image/blog/es6%E6%A0%87%E7%AD%BE%E6%A8%A1%E6%9D%BF.png">
<meta property="og:image" content="http://img.gaojingbo.com/image/blog/es6String.rawAPI.PNG">
<meta property="article:published_time" content="2017-07-21T14:39:18.000Z">
<meta property="article:modified_time" content="2021-05-25T03:24:20.421Z">
<meta property="article:author" content="高敬博">
<meta property="article:tag" content="es6">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://img.gaojingbo.com/image/blog/es6%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93.png">

<link rel="canonical" href="http://gaojingbo.com/ES6%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>ES6学习总结 | 数字字母下划线</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">数字字母下划线</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://gaojingbo.com/ES6%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="高敬博">
      <meta itemprop="description" content="我知道他好奇璀璨的宇宙，也知道今后我只会环绕他这一颗星球。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="数字字母下划线">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ES6学习总结
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-07-21 22:39:18" itemprop="dateCreated datePublished" datetime="2017-07-21T22:39:18+08:00">2017-07-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-25 11:24:20" itemprop="dateModified" datetime="2021-05-25T11:24:20+08:00">2021-05-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/es6/" itemprop="url" rel="index"><span itemprop="name">es6</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/ES6%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/ES6%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>34k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>31 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>在学习es6的过程中，为了方便自己复习，以及查看，对api做了一个简单的用例介绍。</p>
<span id="more"></span>
<h1 id="一-let和const"><a href="#一-let和const" class="headerlink" title="一 let和const"></a>一 let和const</h1><h2 id="1-let"><a href="#1-let" class="headerlink" title="1.let"></a>1.let</h2><p>(1)一个大括号就是一个块级作用域，let声明的变量只在自己作用域有效；<br>(2)es6强制开启严格模式，变量未声明不能引用，所以会报 Uncaught ReferenceError</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(i);  <span class="comment">// Uncaught ReferenceError: i is not defined</span></span><br><span class="line">&#125;</span><br><span class="line">test();</span><br></pre></td></tr></table></figure>
<p>(3)let不能重复声明</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> <span class="comment">&#123;</span></span></span><br><span class="line"><span class="comment"><span class="function">  let a = 1; </span></span></span><br><span class="line"><span class="comment"><span class="function">  let a = 2;</span></span></span><br><span class="line"><span class="comment"><span class="function">&#125;</span></span></span><br><span class="line"><span class="function"><span class="title">test</span><span class="params">()</span>;</span></span><br></pre></td></tr></table></figure>
<p>(4)let不存在变量提升(这个地方有问题)</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span> var 的情况</span><br><span class="line">console.log(a); <span class="regexp">//</span> 输出undefined</span><br><span class="line">var a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span> let 的情况</span><br><span class="line">console.log(b); <span class="regexp">//</span> 报错ReferenceError</span><br><span class="line">let b = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<h2 id="2-const"><a href="#2-const" class="headerlink" title="2.const"></a>2.const</h2><p>(1)const声明之后必须赋值，否则会编译不通过；<br>(2)const声明的值不允许修改；</p>
<figure class="highlight monkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">PI</span> = <span class="number">3.14</span>;</span><br><span class="line">// <span class="built_in">PI</span> = <span class="number">2</span>;  </span><br><span class="line">// <span class="keyword">const</span> <span class="built_in">PI</span>;</span><br><span class="line">console.<span class="built_in">log</span>(<span class="built_in">PI</span>);</span><br></pre></td></tr></table></figure>
<p>(3)const如果是对象的话，可以向对象中添加属性，也可以修改a的属性；json是指向内存地址的一个指针，指针的指向不变，但是那个被json指针所指向的内存地址所存储的内容是可以变化的；</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const <span class="type">json</span> = &#123;</span><br><span class="line">  a: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">json</span>.a = <span class="number">3</span>;</span><br><span class="line"><span class="type">json</span>.b = <span class="number">3</span>;</span><br><span class="line">console.log(<span class="type">json</span>.a)   //<span class="number">3</span></span><br><span class="line">console.log(<span class="type">json</span>.b)   //<span class="number">3</span></span><br></pre></td></tr></table></figure>

<h1 id="二-解构赋值"><a href="#二-解构赋值" class="headerlink" title="二 解构赋值"></a>二 解构赋值</h1><h2 id="1-基本用法"><a href="#1-基本用法" class="headerlink" title="1.基本用法"></a>1.基本用法</h2><p>先上两个例子了解什么是解构赋值</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="built_in">let</span> a, b, <span class="built_in">rest</span>;</span><br><span class="line">  [a, b, <span class="built_in">rest</span>] = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">  console.<span class="built_in">log</span>(a, b, <span class="built_in">rest</span>);   //<span class="number">1</span> <span class="number">2</span> undefined</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="built_in">let</span> a, b, <span class="built_in">rest</span>;</span><br><span class="line">  [a, b, ...<span class="built_in">rest</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>];</span><br><span class="line">  console.<span class="built_in">log</span>(a, b, <span class="built_in">rest</span>);   //<span class="number">1</span> <span class="number">2</span> [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-对象的解构赋值"><a href="#2-对象的解构赋值" class="headerlink" title="2.对象的解构赋值"></a>2.对象的解构赋值</h2><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let a, b;</span><br><span class="line">  (&#123; a, b &#125; = &#123; a: <span class="number">1</span>, b: <span class="number">2</span> &#125;)<span class="comment">;  //a，b 顺序不影响其结构结果</span></span><br><span class="line">  console.log(<span class="name">a</span>, b)<span class="comment">; // 1 2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-默认值"><a href="#3-默认值" class="headerlink" title="3.默认值"></a>3.默认值</h2><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="built_in">let</span> a, b, <span class="built_in">rest</span>;</span><br><span class="line">  [a, b, <span class="built_in">rest</span> = <span class="number">3</span>] = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">console.<span class="built_in">log</span>(a, b, <span class="built_in">rest</span>); // <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-实际应用"><a href="#4-实际应用" class="headerlink" title="4.实际应用"></a>4.实际应用</h2><h3 id="变量的交换"><a href="#变量的交换" class="headerlink" title="变量的交换"></a>变量的交换</h3><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let a = <span class="number">1</span><span class="comment">;</span></span><br><span class="line">  let b = <span class="number">2</span><span class="comment">;</span></span><br><span class="line">  [a, b] = [b, a]<span class="comment">;</span></span><br><span class="line">  console.log(<span class="name">a</span>, b)<span class="comment">;  //2 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="接收函数返回的值"><a href="#接收函数返回的值" class="headerlink" title="接收函数返回的值"></a>接收函数返回的值</h3><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  function f() &#123;</span><br><span class="line">    return [<span class="number">12</span>, <span class="number">13</span>]<span class="comment">;</span></span><br><span class="line">  &#125;</span><br><span class="line">  let a, b;</span><br><span class="line">  [a, b] = f()<span class="comment">;</span></span><br><span class="line">  console.log(<span class="name">a</span>, b)<span class="comment">; //12 13</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  function f() &#123;</span><br><span class="line">    return [<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>]<span class="comment">;</span></span><br><span class="line">  &#125;</span><br><span class="line">  let a, b;</span><br><span class="line">  [a, , , b] = f()<span class="comment">;  //函数返回多个值，可以选择性的接收对应的值</span></span><br><span class="line">  console.log(<span class="name">a</span>, b)<span class="comment">; // 12 16</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  function f() &#123;</span><br><span class="line">    return [<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>]<span class="comment">;</span></span><br><span class="line">  &#125;</span><br><span class="line">  let a, b;</span><br><span class="line">  [a, , ...b] = f()<span class="comment">;  //取出对应的值，其他的值可以直接赋值给数据</span></span><br><span class="line">  console.log(<span class="name">a</span>, b)<span class="comment">; // 12 [14, 15, 16]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-对象的解构赋值的应用"><a href="#5-对象的解构赋值的应用" class="headerlink" title="5.对象的解构赋值的应用"></a>5.对象的解构赋值的应用</h2><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let o = &#123; p: <span class="number">42</span>, q: <span class="literal">true</span> &#125;<span class="comment">;</span></span><br><span class="line">  let &#123; p, q &#125; = o;</span><br><span class="line">  console.log(<span class="name">p</span>, q)<span class="comment">; //42 true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  let &#123; a = <span class="number">10</span>, b = <span class="number">11</span> &#125; = &#123; a: <span class="number">3</span> &#125;  // 对象的默认值更改</span><br><span class="line">  console.log(<span class="name">a</span>,b)<span class="comment">; // 3, 11</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-解构赋值的简单应用举例"><a href="#6-解构赋值的简单应用举例" class="headerlink" title="6.解构赋值的简单应用举例"></a>6.解构赋值的简单应用举例</h2><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let metaData = &#123;</span><br><span class="line">    title: &#x27;abc&#x27;,</span><br><span class="line">    test: [&#123;</span><br><span class="line">      title: &#x27;gaojingbo&#x27;,</span><br><span class="line">      desc: &#x27;description&#x27;</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  let &#123; title: esTitle, test: [&#123; title: cnTitle &#125;] &#125; = metaData;</span><br><span class="line">  console.log(<span class="name">esTitle</span>, cnTitle)<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="三-正则的扩展"><a href="#三-正则的扩展" class="headerlink" title="三 正则的扩展"></a>三 正则的扩展</h1><h2 id="1-构造函数来创建正则"><a href="#1-构造函数来创建正则" class="headerlink" title="1.构造函数来创建正则"></a>1.构造函数来创建正则</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> regex1 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;xyz&#x27;</span>, <span class="string">&#x27;i&#x27;</span>);</span><br><span class="line">  <span class="keyword">let</span> regex2 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/xyz/i</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(regex1.test(<span class="string">&#x27;xyz123&#x27;</span>), regex2.test(<span class="string">&#x27;xyz123&#x27;</span>)); <span class="comment">// true true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> regex3 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/xyz/ig</span>, <span class="string">&#x27;i&#x27;</span>); <span class="comment">// 后面的修饰符会把前面的修饰符给覆盖掉</span></span><br><span class="line">  <span class="built_in">console</span>.log(regex3.flags);  <span class="comment">// es6新增的，用来获取正则表达式的修饰符</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-g修饰符和y修饰符"><a href="#2-g修饰符和y修饰符" class="headerlink" title="2.g修饰符和y修饰符"></a>2.g修饰符和y修饰符</h2><p>y修饰符的作用与g修饰符类似，也是全局匹配，后一次匹配都从上一次匹配成功的下一个位置开始。不同之处在于，g修饰符只要剩余位置中存在匹配就可，而y修饰符确保匹配必须从剩余的第一个位置开始。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> s = <span class="string">&#x27;bbb_bb_b&#x27;</span>;</span><br><span class="line">  <span class="keyword">let</span> a1 = <span class="regexp">/b+/g</span>; <span class="comment">// g只要匹配到都算</span></span><br><span class="line">  <span class="keyword">let</span> a2 = <span class="regexp">/b+/y</span>; <span class="comment">// y必须是下一个开始的字母开始匹配</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;one&#x27;</span>, a1.exec(s), a2.exec(s)); <span class="comment">// g修饰符匹配到都可以，y修饰符必须从第一个开始匹配，如果一第个不是b则会输出null</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;two&#x27;</span>, a1.exec(s), a2.exec(s)); <span class="comment">// 第二次匹配，g修饰符会只要匹配到都可以，y修饰符必须从紧邻的下一个字符开始匹配</span></span><br><span class="line">  </span><br><span class="line">  <span class="built_in">console</span>.log(a1.sticky, a2.sticky); <span class="comment">// 判断是否开启了y修饰符   false true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>one和two的输出结果<br><img src="http://img.gaojingbo.com/image/blog/es6%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93.png"></p>
<h2 id="3-u修饰符-unicode"><a href="#3-u修饰符-unicode" class="headerlink" title="3.u修饰符(unicode)"></a>3.u修饰符(unicode)</h2><p>ES6 对正则表达式添加了u修饰符，含义为“Unicode模式”，用来正确处理大于\uFFFF的 Unicode 字符。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;u-1&#x27;</span>, <span class="regexp">/^\uD83D/</span>.test(<span class="string">&#x27;\uD83D\uDC2A&#x27;</span>)); <span class="comment">// 不加u把后面的四个字节当成两个字符</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;u-2&#x27;</span>, <span class="regexp">/^\uD83D/u</span>.test(<span class="string">&#x27;\uD83D\uDC2A&#x27;</span>)); <span class="comment">// 加u把后面的4个字节当作一个字符</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="regexp">/\u&#123;61&#125;/</span>.test(<span class="string">&#x27;a&#x27;</span>));  <span class="comment">// false 大括号括起来代表一个unicode字符，所以必须加u才能识别</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="regexp">/\u&#123;61&#125;/u</span>.test(<span class="string">&#x27;a&#x27;</span>)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`\u&#123;20BB7&#125;`</span>);</span><br><span class="line">  <span class="keyword">let</span> s = <span class="string">&#x27;𠮷&#x27;</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;u-1&#x27;</span>, <span class="regexp">/^.$/</span>.test(s));  <span class="comment">//false 字符串大于两个字节，必须加u修饰符才能匹配到</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;u-2&#x27;</span>, <span class="regexp">/^.$/u</span>.test(s)); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;test-1&#x27;</span>, <span class="regexp">/𠮷&#123;2&#125;/</span>.test(<span class="string">&#x27;𠮷𠮷&#x27;</span>)); <span class="comment">// false</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;test-2&#x27;</span>, <span class="regexp">/𠮷&#123;2&#125;/u</span>.test(<span class="string">&#x27;𠮷𠮷&#x27;</span>)); <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="四-字符串扩展"><a href="#四-字符串扩展" class="headerlink" title="四 字符串扩展"></a>四 字符串扩展</h1><h2 id="1-unicode的表示方法"><a href="#1-unicode的表示方法" class="headerlink" title="1.unicode的表示方法"></a>1.unicode的表示方法</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  console.<span class="built_in">log</span>(&#x27;a&#x27;, &#x27;\u<span class="number">0061</span>&#x27;); <span class="comment">// a a</span></span><br><span class="line">  console.<span class="built_in">log</span>(&#x27;s&#x27;, &#x27;\u20BB7&#x27;); <span class="comment">// s ₻7  把前两个字节当作一个整体</span></span><br><span class="line">  console.<span class="built_in">log</span>(&#x27;s&#x27;, &#x27;\u&#123;20BB7&#125;&#x27;); <span class="comment">// s 𠮷  unicode编码用&#123;&#125;可以正常识别</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-codePointAt和charCodeAt的对比"><a href="#2-codePointAt和charCodeAt的对比" class="headerlink" title="2.codePointAt和charCodeAt的对比"></a>2.codePointAt和charCodeAt的对比</h2><p>对于4个字节的字符，JavaScript不能正确处理，字符串长度会误判为2，而且charAt方法无法读取整个字符，charCodeAt方法只能分别返回前两个字节和后两个字节的值。ES6提供了codePointAt方法，能够正确处理4个字节储存的字符，返回一个字符的码点。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   let s = <span class="string">&#x27;𠮷&#x27;</span>;</span><br><span class="line">   console.log(s.length);  <span class="regexp">//</span> <span class="number">2</span></span><br><span class="line">   console.log(<span class="string">&#x27;0&#x27;</span>, s.charAt(<span class="number">0</span>));  <span class="regexp">//</span> <span class="number">0</span> �   <span class="regexp">//</span>es5未对多个字节的字符做处理</span><br><span class="line">   console.log(<span class="string">&#x27;1&#x27;</span>, s.charAt(<span class="number">1</span>));  <span class="regexp">//</span> <span class="number">1</span> �</span><br><span class="line">   console.log(<span class="string">&#x27;at0&#x27;</span>, s.charCodeAt(<span class="number">0</span>));  <span class="regexp">//</span>at0 <span class="number">55362</span></span><br><span class="line">   console.log(<span class="string">&#x27;at1&#x27;</span>, s.charCodeAt(<span class="number">1</span>));  <span class="regexp">//</span>at1 <span class="number">57271</span></span><br><span class="line">   </span><br><span class="line">   let s1 = <span class="string">&#x27;𠮷a&#x27;</span>;</span><br><span class="line">   console.log(<span class="string">&#x27;length&#x27;</span>, s1.length); <span class="regexp">//</span> <span class="number">3</span></span><br><span class="line">   console.log(<span class="string">&#x27;code0&#x27;</span>, s1.codePointAt(<span class="number">0</span>)); <span class="regexp">//</span> code0 <span class="number">134071</span></span><br><span class="line">   console.log(<span class="string">&#x27;code0&#x27;</span>, s1.codePointAt(<span class="number">0</span>).toString(<span class="number">16</span>));  <span class="regexp">//</span> code0 es6会自动把多个字节的字符当作一个整体来处理 </span><br><span class="line">   console.log(<span class="string">&#x27;code1&#x27;</span>, s1.codePointAt(<span class="number">1</span>)); <span class="regexp">//</span> code1 <span class="number">57271</span></span><br><span class="line">   console.log(<span class="string">&#x27;code2&#x27;</span>, s1.codePointAt(<span class="number">2</span>)); <span class="regexp">//</span> code2 <span class="number">97</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-fromCharCode和fromCodePoint"><a href="#3-fromCharCode和fromCodePoint" class="headerlink" title="3.fromCharCode和fromCodePoint"></a>3.fromCharCode和fromCodePoint</h2><p>ES5提供String.fromCharCode方法，用于从码点返回对应字符，但是这个方法不能识别Unicode编号大于0xFFFF。ES6提供了String.fromCodePoint方法，可以识别大于0xFFFF的字符，弥补了String.fromCharCode方法的不足。在作用上，正好与codePointAt方法相反。注意，fromCodePoint方法定义在String对象上，而codePointAt方法定义在字符串的实例对象上。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">String</span>.fromCharCode(<span class="string">&#x27;0x20bb7&#x27;</span>));  <span class="comment">//ஷ</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">String</span>.fromCodePoint(<span class="string">&#x27;0x20bb7&#x27;</span>))  <span class="comment">//𠮷</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-字符串遍历器"><a href="#4-字符串遍历器" class="headerlink" title="4.字符串遍历器"></a>4.字符串遍历器</h2><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// es5</span></span><br><span class="line">  <span class="built_in">let</span> <span class="built_in">str</span> = &#x27;\u&#123;<span class="number">20</span>bb7&#125;abc&#x27;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">str</span>.length; i++) &#123;</span><br><span class="line">    console.<span class="built_in">log</span>(&#x27;es5&#x27;, <span class="built_in">str</span>[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//� � a b c   </span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//es6</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">let</span> code of <span class="built_in">str</span>) &#123;</span><br><span class="line">    console.<span class="built_in">log</span>(&#x27;es6&#x27;, code);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 𠮷 a b c</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-一些常用的字符串api"><a href="#5-一些常用的字符串api" class="headerlink" title="5.一些常用的字符串api"></a>5.一些常用的字符串api</h2><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let <span class="built_in">str</span> = <span class="string">&#x27;string&#x27;</span>;</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="string">&#x27;includes&#x27;</span>, <span class="built_in">str</span>.includes(<span class="string">&#x27;c&#x27;</span>));  <span class="comment">// 判断是否包含  false</span></span><br><span class="line">  console.<span class="built_in">log</span>(<span class="string">&#x27;start&#x27;</span>, <span class="built_in">str</span>.startsWith(<span class="string">&#x27;s&#x27;</span>));   <span class="comment">// 以什么开头  true</span></span><br><span class="line">  console.<span class="built_in">log</span>(<span class="string">&#x27;end&#x27;</span>, <span class="built_in">str</span>.endsWith(<span class="string">&#x27;ng&#x27;</span>));   <span class="comment">// 以什么结尾   true</span></span><br><span class="line">  console.<span class="built_in">log</span>(<span class="string">&#x27;repeat&#x27;</span>, <span class="built_in">str</span>.repeat(<span class="number">2</span>));     <span class="comment">// 字符串重复两次  stringstring</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ES6 引入了字符串补全长度的功能。如果某个字符串不够指定长度，会在头部或尾部补全。padStart()用于头部补全，padEnd()用于尾部补全。如果原字符串的长度，等于或大于指定的最小长度，则返回原字符串。如果用来补全的字符串与原字符串，两者的长度之和超过了指定的最小长度，则会截去超出位数的补全字符串。</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    console.<span class="built_in">log</span>(&#x27;1&#x27;.padStart(<span class="number">2</span>,&#x27;0&#x27;)); <span class="comment">// 01</span></span><br><span class="line">    console.<span class="built_in">log</span>(&#x27;1&#x27;.padEnd(<span class="number">2</span>,&#x27;0&#x27;)); <span class="comment">// 10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="6-模板字符串"><a href="#6-模板字符串" class="headerlink" title="6.模板字符串"></a>6.模板字符串</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> name = <span class="string">&quot;List&quot;</span>;</span><br><span class="line">  <span class="keyword">let</span> info = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">  <span class="keyword">let</span> m = <span class="string">`i am <span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;info&#125;</span>`</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(m);  <span class="comment">//i am List hello world</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-标签模板"><a href="#7-标签模板" class="headerlink" title="7.标签模板"></a>7.标签模板</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let <span class="keyword">user</span> = &#123;</span><br><span class="line">    <span class="type">name</span>:<span class="string">&#x27;list&#x27;</span>,</span><br><span class="line">    <span class="keyword">info</span>:<span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> fn(s,v1,v2)&#123;</span><br><span class="line">    console.log(s,v1,v2);</span><br><span class="line">    <span class="keyword">return</span> s+v1+v2;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  console.log(fn`i am $&#123;<span class="keyword">user</span>.name&#125; $&#123;<span class="keyword">user</span>.<span class="keyword">info</span>&#125;`)  // ``符号相当于一个函数的参数fn(i am $&#123;<span class="keyword">user</span>.name&#125; $&#123;<span class="keyword">user</span>.<span class="keyword">info</span>&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果<br><img src="http://img.gaojingbo.com/image/blog/es6%E6%A0%87%E7%AD%BE%E6%A8%A1%E6%9D%BF.png"></p>
<h2 id="8-String-row-API"><a href="#8-String-row-API" class="headerlink" title="8.String.row API"></a>8.String.row API</h2><p>ES6还为原生的String对象，提供了一个raw方法。String.raw方法，往往用来充当模板字符串的处理函数，返回一个斜杠都被转义（即斜杠前面再加一个斜杠）的字符串，对应于替换变量后的模板字符串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;raw &#x27;</span>+<span class="built_in">String</span>.raw<span class="string">`hi\n<span class="subst">$&#123;<span class="number">1</span>+<span class="number">2</span>&#125;</span>`</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;noRaw &#x27;</span>+<span class="string">`hi\n<span class="subst">$&#123;<span class="number">1</span>+<span class="number">2</span>&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果<br><img src="http://img.gaojingbo.com/image/blog/es6String.rawAPI.PNG"></p>
<h1 id="五-数值扩展"><a href="#五-数值扩展" class="headerlink" title="五 数值扩展"></a>五 数值扩展</h1><h2 id="1-二进制八进制表示法"><a href="#1-二进制八进制表示法" class="headerlink" title="1.二进制八进制表示法"></a>1.二进制八进制表示法</h2><p>从 ES5 开始，在严格模式之中，八进制就不再允许使用前缀0表示，ES6进一步明确，要使用前缀0o表示。如果要将0b和0o前缀的字符串数值转为十进制，要使用Number方法。</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  console.<span class="built_in">log</span>(&#x27;B&#x27;,<span class="number">0b11010101010</span>);  //二进制表示，b大小写都可以</span><br><span class="line">  console.<span class="built_in">log</span>(&#x27;O&#x27;,<span class="number">0O1237637236</span>);  // 八进制表示法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-Number-isFinite-和Number-isNaN"><a href="#2-Number-isFinite-和Number-isNaN" class="headerlink" title="2.Number.isFinite()和Number.isNaN()"></a>2.Number.isFinite()和Number.isNaN()</h2><p>Number.isFinite()用来判断数字是否有限（无尽小数），Number.isNaN()来判断一个数是不是小数</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;15&#x27;</span>,<span class="built_in">isFinite</span>(<span class="number">15</span>));    //<span class="literal">true</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;NaN&#x27;</span>,<span class="built_in">isFinite</span>(<span class="literal">NaN</span>));  //<span class="literal">false</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;1/0&#x27;</span>,<span class="built_in">isFinite</span>(<span class="number">1</span>/<span class="number">0</span>));  //<span class="literal">false</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;isNaN&#x27;</span>,<span class="built_in">Number</span>.<span class="built_in">isNaN</span>(<span class="number">15</span>)); <span class="regexp">//</span> <span class="literal">false</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;isNaN&#x27;</span>,<span class="built_in">Number</span>.<span class="built_in">isNaN</span>(<span class="literal">NaN</span>));  <span class="regexp">//</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-Number-isInteger"><a href="#3-Number-isInteger" class="headerlink" title="3.Number.isInteger"></a>3.Number.isInteger</h2><p>Number.isInteger用来判断一个数是不是整数</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;13&#x27;</span>,<span class="built_in">Number</span>.isInteger(<span class="number">13</span>));      <span class="regexp">//</span> <span class="literal">true</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;13.0&#x27;</span>,<span class="built_in">Number</span>.isInteger(<span class="number">13.0</span>));  <span class="regexp">//</span> <span class="literal">true</span> </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;13.1&#x27;</span>,<span class="built_in">Number</span>.isInteger(<span class="number">13.1</span>));  //<span class="literal">false</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;13&#x27;</span>,<span class="built_in">Number</span>.isInteger(<span class="string">&#x27;13&#x27;</span>));    <span class="regexp">//</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-Number-MAX-SAFE-INTEGER-Number-MIN-SFAE-INTEGER和isSafeInterger"><a href="#4-Number-MAX-SAFE-INTEGER-Number-MIN-SFAE-INTEGER和isSafeInterger" class="headerlink" title="4.Number.MAX_SAFE_INTEGER,Number.MIN_SFAE_INTEGER和isSafeInterger"></a>4.Number.MAX_SAFE_INTEGER,Number.MIN_SFAE_INTEGER和isSafeInterger</h2><p>Number.MAX_SAFE_INTEGER,Number.MIN_SFAE_INTEGER表示js可以准确表示的值的范围，isSafeInterger用来判断这个值是否在安全范围内。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="built_in">Number</span>.MAX_SAFE_INTEGER,<span class="built_in">Number</span>.MIN_SFAE_INTEGER)<span class="comment">;</span></span><br><span class="line">  console.<span class="built_in">log</span>(<span class="string">&#x27;15&#x27;</span>,<span class="built_in">Number</span>.isSafeInteger(<span class="number">15</span>))<span class="comment">;</span></span><br><span class="line">  console.<span class="built_in">log</span>(<span class="string">&#x27;9999999999999999999999&#x27;</span>,<span class="built_in">Number</span>.isSafeInteger(<span class="number">9999999999999999999999</span>))<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-Math-trunc和Math-sign"><a href="#5-Math-trunc和Math-sign" class="headerlink" title="5.Math.trunc和Math.sign"></a>5.Math.trunc和Math.sign</h2><p>Math.trunc方法用于去除一个数的小数部分，返回整数部分。Math.sign方法用来判断一个数到底是正数、负数、还是零。对于非数值，会先将其转换为数值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;4.1&#x27;</span>,<span class="built_in">Math</span>.trunc(<span class="number">4.1</span>));   <span class="comment">//4</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;4.9&#x27;</span>,<span class="built_in">Math</span>.trunc(<span class="number">4.9</span>));   <span class="comment">//4</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;-5&#x27;</span>,<span class="built_in">Math</span>.sign(-<span class="number">5</span>))    <span class="comment">//-1</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;5&#x27;</span>,<span class="built_in">Math</span>.sign(<span class="number">5</span>))      <span class="comment">//+1</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;0&#x27;</span>,<span class="built_in">Math</span>.sign(<span class="number">0</span>))      <span class="comment">//0</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;50&#x27;</span>,<span class="built_in">Math</span>.sign(<span class="number">50</span>))    <span class="comment">//+1</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;NaN&#x27;</span>,<span class="built_in">Math</span>.sign(<span class="literal">NaN</span>))  <span class="comment">//NaN</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h2 id="6-cbrt"><a href="#6-cbrt" class="headerlink" title="6.cbrt"></a>6.cbrt</h2><p>cbrt用来计算一个数的开方</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  console.<span class="built_in">log</span>(&#x27;-1&#x27;,cbrt(-<span class="number">1</span>));   <span class="comment">//-1</span></span><br><span class="line">  console.<span class="built_in">log</span>(&#x27;8&#x27;,cbrt(<span class="number">8</span>));     <span class="comment">//2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="六-数组扩展"><a href="#六-数组扩展" class="headerlink" title="六 数组扩展"></a>六 数组扩展</h1><h2 id="1-Array-of"><a href="#1-Array-of" class="headerlink" title="1. Array.of"></a>1. Array.of</h2><p>Array.of方法用于将一组值，转换为数组,这个方法的主要目的，是弥补数组构造函数Array()的不足。因为参数个数的不同，会导致Array()的行为有差异。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> arr = <span class="built_in">Array</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;arr=&#x27;</span>,arr);  <span class="comment">// arr= [1, 2, 3, 4]</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> emptyArr = <span class="built_in">Array</span>.of();</span><br><span class="line">  <span class="built_in">console</span>.log(emptyArr);  <span class="comment">// []</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//与Array方法对比</span></span><br><span class="line">  <span class="built_in">Array</span>() <span class="comment">// []</span></span><br><span class="line">  <span class="built_in">Array</span>(<span class="number">3</span>) <span class="comment">// [, , ,]</span></span><br><span class="line">  <span class="built_in">Array</span>(<span class="number">3</span>, <span class="number">11</span>, <span class="number">8</span>) <span class="comment">// [3, 11, 8]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-Array-from"><a href="#2-Array-from" class="headerlink" title="2.Array.from"></a>2.Array.from</h2><p>Array.from方法用于将两类对象转为真正的数组：类似数组的对象和可遍历的对象（包括ES6新增的数据结构Set和Map）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;你好&lt;/p&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>我好<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>大家好<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> p = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;p&#x27;</span>);</span><br><span class="line">  <span class="keyword">let</span> pArr = <span class="built_in">Array</span>.from(p);</span><br><span class="line">  pArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item.textContent);  <span class="comment">// 你好 我好 大家好</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">Array</span>.from([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>],<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;<span class="keyword">return</span> item*<span class="number">2</span>&#125;)) <span class="comment">// [2,6,10]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-Array-fill"><a href="#3-Array-fill" class="headerlink" title="3.Array.fill"></a>3.Array.fill</h2><p>fill方法使用给定值，填充一个数组。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  console.log(<span class="string">&#x27;fill-7&#x27;</span>,[<span class="number">1</span>,<span class="number">3</span>,<span class="string">&#x27;undefined&#x27;</span>].fill(<span class="number">7</span>));   <span class="regexp">//</span>[<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>]</span><br><span class="line">  console.log(<span class="string">&#x27;fill,pos&#x27;</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">8</span>].fill(<span class="number">7</span>,<span class="number">1</span>,<span class="number">4</span>)); <span class="regexp">//</span>[<span class="number">1</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>]  <span class="regexp">//</span> 后两个参数表示索引的位置</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-entries-，keys-和-values"><a href="#4-entries-，keys-和-values" class="headerlink" title="4.entries()，keys() 和 values()"></a>4.entries()，keys() 和 values()</h2><p>ES6 提供三个新的方法——entries()，keys()和values()——用于遍历数组。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">for</span>(let index of [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].keys())&#123;</span><br><span class="line">    console.log(<span class="string">&#x27;index&#x27;</span>,index);</span><br><span class="line">   <span class="regexp">//</span> index <span class="number">0</span></span><br><span class="line">   <span class="regexp">//</span> index <span class="number">1</span></span><br><span class="line">   <span class="regexp">//</span> index <span class="number">2</span></span><br><span class="line">   <span class="regexp">//</span> index <span class="number">3</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(let value of [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].values())&#123;</span><br><span class="line">    console.log(<span class="string">&#x27;value&#x27;</span>,value);</span><br><span class="line">   <span class="regexp">//</span> value <span class="number">1</span></span><br><span class="line">   <span class="regexp">//</span> value <span class="number">2</span></span><br><span class="line">   <span class="regexp">//</span> value <span class="number">3</span></span><br><span class="line">   <span class="regexp">//</span> value <span class="number">4</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(let [index,value] of [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>].entries())&#123;</span><br><span class="line">    console.log(index,value);</span><br><span class="line">   <span class="regexp">//</span> <span class="number">0</span> <span class="number">1</span></span><br><span class="line">   <span class="regexp">//</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">   <span class="regexp">//</span> <span class="number">2</span> <span class="number">4</span></span><br><span class="line">   <span class="regexp">//</span> <span class="number">3</span> <span class="number">5</span></span><br><span class="line">   <span class="regexp">//</span> <span class="number">4</span> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-Array-copyWithin"><a href="#5-Array-copyWithin" class="headerlink" title="5.Array.copyWithin"></a>5.Array.copyWithin</h2><p>截取一定长度的数字并且替换在相对应的索引的位置</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  console.log([<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">3</span>].copyWithin(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>))<span class="comment">;  //  [1, 6, 7, 6, 7, 2, 3]  // 截取3-5的位置的数字，从索引1的位置开始替换</span></span><br><span class="line">  console.log([<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">3</span>].copyWithin(<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>))<span class="comment">;  //  [1, 6, 7, 2, 7, 2, 3] </span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-findIndex和find"><a href="#6-findIndex和find" class="headerlink" title="6.findIndex和find"></a>6.findIndex和find</h2><p>数组实例的find方法，用于找出第一个符合条件的数组成员。它的参数是一个回调函数，所有数组成员依次执行该回调函数，直到找出第一个返回值为true的成员，然后返回该成员。如果没有符合条件的成员，则返回undefined。数组实例的findIndex方法的用法与find方法非常类似，返回第一个符合条件的数组成员的位置，如果所有成员都不符合条件，则返回-1。</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  console.log([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>].find(<span class="name">function</span>(<span class="name">item</span>)&#123;return item &gt; <span class="number">3</span>&#125;))<span class="comment">;   //4</span></span><br><span class="line">  console.log([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>].findIndex(<span class="name">function</span>(<span class="name">item</span>)&#123;return item &gt; <span class="number">3</span>&#125;))<span class="comment">;   // 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7-includes"><a href="#7-includes" class="headerlink" title="7.includes"></a>7.includes</h2><p>Array.prototype.includes方法返回一个布尔值，表示某个数组是否包含给定的值，与字符串的includes方法类似。ES2016 引入了该方法。</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  console.log([<span class="number">1</span>,<span class="number">2</span>,NaN].includes(<span class="number">1</span>))<span class="comment">;  // true</span></span><br><span class="line">  console.log([<span class="number">1</span>,<span class="number">2</span>,NaN].includes(<span class="name">NaN</span>))<span class="comment">;  // true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="8-扩展运算符"><a href="#8-扩展运算符" class="headerlink" title="8.扩展运算符"></a>8.扩展运算符</h2><p>扩展运算符（spread）是三个点（…）。将一个数组转为用逗号分隔的参数序列。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">console<span class="selector-class">.log</span>(...<span class="selector-attr">[1, 2, 3]</span>)</span><br><span class="line"><span class="comment">// 1 2 3</span></span><br><span class="line"></span><br><span class="line">console<span class="selector-class">.log</span>(<span class="number">1</span>, ...<span class="selector-attr">[2, 3, 4]</span>, <span class="number">5</span>)</span><br><span class="line"><span class="comment">// 1 2 3 4 5</span></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[...document.querySelectorAll(<span class="string">&#x27;div&#x27;</span>)]</span></span><br><span class="line"><span class="comment">// [&lt;div&gt;, &lt;div&gt;, &lt;div&gt;]</span></span><br></pre></td></tr></table></figure>
<h1 id="七-函数扩展"><a href="#七-函数扩展" class="headerlink" title="七 函数扩展"></a>七 函数扩展</h1><h2 id="1-默认值"><a href="#1-默认值" class="headerlink" title="1.默认值"></a>1.默认值</h2><p>ES6 之前，不能直接为函数的参数指定默认值;ES6允许为函数的参数设置默认值，即直接写在参数定义的后面。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="keyword">function</span> fn(x,y=<span class="string">&#x27;hello&#x27;</span>)&#123;  <span class="regexp">//</span> 默认值后面不能再出现形参</span><br><span class="line">		console.log(x,y);</span><br><span class="line">	&#125;</span><br><span class="line">	fn(<span class="string">&#x27;word&#x27;</span>);  <span class="regexp">//</span> word hello</span><br><span class="line">	fn(<span class="string">&#x27;word&#x27;</span>,<span class="string">&#x27;nihao&#x27;</span>)  <span class="regexp">//</span> word nihao</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">	let a = <span class="string">&#x27;nihao&#x27;</span>;</span><br><span class="line">	<span class="keyword">function</span> test(a,b=a)&#123;  <span class="regexp">//</span><span class="number">1</span>.</span><br><span class="line">		<span class="regexp">//</span>let a = <span class="number">1</span>; 参数变量是默认声明的，所以不能用let或const再次声明</span><br><span class="line">		console.log(a,b);</span><br><span class="line">	&#125;</span><br><span class="line">	test(<span class="string">&#x27;word&#x27;</span>); <span class="regexp">//</span> word word  </span><br><span class="line">	test();  <span class="regexp">//u</span>ndefined undefined</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">	let a = <span class="string">&#x27;nihao&#x27;</span>;</span><br><span class="line">	<span class="keyword">function</span> test(x,b=a)&#123;  <span class="regexp">//</span><span class="number">2</span>.</span><br><span class="line">		console.log(x,b)</span><br><span class="line">	&#125;</span><br><span class="line">	test(<span class="string">&#x27;hello&#x27;</span>);<span class="regexp">//</span> hello nihao</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-rest参数"><a href="#3-rest参数" class="headerlink" title="3.rest参数"></a>3.rest参数</h2><p>ES6 引入rest参数（形式为…变量名），用于获取函数的多余参数，这样就不需要使用arguments对象了。rest参数搭配的变量是一个数组，该变量将多余的参数放入数组中。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">(<span class="rest_arg">...arg</span>)</span></span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(let v of arg)&#123;</span><br><span class="line">			console.log(v);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fn(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">	<span class="comment">//1</span></span><br><span class="line">	<span class="comment">//2</span></span><br><span class="line">	<span class="comment">//3</span></span><br><span class="line">	<span class="comment">//4</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">	console.log(...[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]);  <span class="comment">// 1，2，3，4</span></span><br><span class="line">	console.log(<span class="string">&#x27;a&#x27;</span>,...[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]); <span class="comment">// a,1,2,3,4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-箭头函数"><a href="#4-箭头函数" class="headerlink" title="4.箭头函数"></a>4.箭头函数</h2><p>ES6 允许使用“箭头”（=&gt;）定义函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> arr = <span class="function"><span class="params">v</span> =&gt;</span> v*<span class="number">2</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(arr(<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> sum = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> &#123; <span class="keyword">return</span> num1 + num2; &#125; <span class="comment">//如果箭头函数的代码块部分多于一条语句，就要使用大括号将它们括起来，并且使用return语句返回。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用注意点<br>箭头函数有几个使用注意点。</p>
<p>（1）函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。</p>
<p>（2）不可以当作构造函数，也就是说，不可以使用new命令，否则会抛出一个错误。</p>
<p>（3）不可以使用arguments对象，该对象在函数体内不存在。如果要用，可以用 rest 参数代替。</p>
<p>（4）不可以使用yield命令，因此箭头函数不能用作 Generator 函数。</p>
<h2 id="5-绑定-this"><a href="#5-绑定-this" class="headerlink" title="5.绑定 this"></a>5.绑定 this</h2><p>函数绑定运算符是并排的两个冒号（::），双冒号左边是一个对象，右边是一个函数。该运算符会自动将左边的对象，作为上下文环境（即this对象），绑定到右边的函数上面。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">foo::bar;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">bar.bind(foo);</span><br><span class="line"></span><br><span class="line">foo::bar(...arguments);</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">bar.apply(foo, arguments);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hasOwnProperty = <span class="keyword">Object</span>.prototype.hasOwnProperty;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasOwn</span>(<span class="params">obj, key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> obj::hasOwnProperty(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>尾调用（Tail Call）是函数式编程的一个重要概念，本身非常简单，一句话就能说清楚，就是指某个函数的最后一步是调用另一个函数。</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="keyword">function</span> <span class="title">fn1</span>(x)&#123;</span><br><span class="line">		console.log(&#x27;fn1&#x27;,x);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">function</span> <span class="title">fn2</span>(x)&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="type">fn1(x)</span>;  // 对fn1的调用必须在最后一步操作</span><br><span class="line">	&#125;</span><br><span class="line">	fn2(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="八-对象扩展"><a href="#八-对象扩展" class="headerlink" title="八 对象扩展"></a>八 对象扩展</h1><h2 id="1-属性的简介表示法"><a href="#1-属性的简介表示法" class="headerlink" title="1.属性的简介表示法"></a>1.属性的简介表示法</h2><p>ES6 允许直接写入变量和函数，作为对象的属性和方法。这样的书写更加简洁。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> a = <span class="number">5</span>,b=<span class="number">6</span>;</span><br><span class="line">	<span class="keyword">let</span> es5 = &#123;</span><br><span class="line">		<span class="attr">a</span>:a,</span><br><span class="line">		<span class="attr">b</span>:b</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">let</span> es6 = &#123;</span><br><span class="line">		a,</span><br><span class="line">		b</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">console</span>.log(es5,es6)  <span class="comment">// &#123;a: 5, b: 6&#125;  &#123;a: 5, b: 6&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">let</span> es5_fn = &#123;   <span class="comment">// </span></span><br><span class="line">		<span class="attr">fn</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">let</span> es6_fn = &#123;</span><br><span class="line">		<span class="function"><span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">console</span>.log(es5_fn.fn,es6_fn.fn);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-动态key值"><a href="#2-动态key值" class="headerlink" title="2.动态key值"></a>2.动态key值</h2><p>es6允许属性的key值是动态的变量</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> a = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">	<span class="keyword">let</span> es5_obj = &#123;</span><br><span class="line">		a:<span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">		b:<span class="string">&#x27;c&#x27;</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">let</span> es6_obj = &#123;</span><br><span class="line">		[<span class="meta">a</span>]:<span class="string">&#x27;c&#x27;</span>   <span class="comment">// a是动态的变量，可以自由赋值</span></span><br><span class="line">	&#125;</span><br><span class="line">	console.log(es5_obj, es6_obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-Object-is"><a href="#3-Object-is" class="headerlink" title="3.Object.is"></a>3.Object.is</h2><p>这个方法相当于es5 中的 ===，来判断属性是否相等</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;is&#x27;</span>,<span class="built_in">Object</span>.<span class="keyword">is</span>(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;a&#x27;</span>));  <span class="regexp">//</span> <span class="literal">true</span></span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;is&#x27;</span>,<span class="built_in">Object</span>.<span class="keyword">is</span>([],[]));    <span class="regexp">//</span> <span class="literal">false</span>   数组对象拥有不同的地址，</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-Object-assign"><a href="#4-Object-assign" class="headerlink" title="4.Object.assign"></a>4.Object.assign</h2><p>Object.assign方法用于对象的合并，将源对象的所有可枚举属性，复制到目标对象。</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	console.log(<span class="name">&#x27;</span>拷贝&#x27;,Object.assign(&#123;a:1&#125;,&#123;b:2&#125;))<span class="comment">;  //浅拷贝</span></span><br><span class="line"></span><br><span class="line">	let test = &#123;a:2,b:3&#125;</span><br><span class="line">	for(<span class="name"><span class="builtin-name">let</span></span> [key,value] of Object.entries(<span class="name">test</span>))&#123;   // 遍历</span><br><span class="line">		console.log([key,value])<span class="comment">; </span></span><br><span class="line">		//[a:2]</span><br><span class="line">		//[b:3]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="九-Symbol"><a href="#九-Symbol" class="headerlink" title="九 Symbol"></a>九 Symbol</h1><h2 id="1-Symbol简单举例"><a href="#1-Symbol简单举例" class="headerlink" title="1.Symbol简单举例"></a>1.Symbol简单举例</h2><p>ES6引入了一种新的原始数据类型Symbol，表示独一无二的值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> a1 = <span class="built_in">Symbol</span>();</span><br><span class="line">	<span class="keyword">let</span> a2 = <span class="built_in">Symbol</span>();</span><br><span class="line">	<span class="built_in">console</span>.log(a1===a2)   <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">let</span> a3 = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;a3&#x27;</span>);</span><br><span class="line">	<span class="keyword">let</span> a4 = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;a3&#x27;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">console</span>.log(a3===a4);  <span class="comment">//true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-Symbol的一些API"><a href="#2-Symbol的一些API" class="headerlink" title="2.Symbol的一些API"></a>2.Symbol的一些API</h2><p>Symbol.for可以用来命名具有相同的key值的对象。<br>Object.getOwnPropertySymbols方法返回一个数组，成员是当前对象的所有用作属性名的 Symbol 值。<br>Reflect.ownKeys方法可以返回所有类型的键名，包括常规键名和 Symbol 键名。</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> a1 = <span class="module-access"><span class="module"><span class="identifier">Symbol</span>.</span></span><span class="keyword">for</span>(&#x27;abc&#x27;);</span><br><span class="line">	<span class="keyword">let</span> obj = &#123;</span><br><span class="line">		<span class="literal">[<span class="identifier">a1</span>]</span>:<span class="number">123</span>,</span><br><span class="line">		abc:<span class="number">234</span>,</span><br><span class="line">		c:<span class="number">345</span></span><br><span class="line">	&#125;</span><br><span class="line">	console.log(obj); </span><br><span class="line">	<span class="comment">// abc:234</span></span><br><span class="line">	<span class="comment">// c:345</span></span><br><span class="line">	<span class="comment">// Symbol(abc):123</span></span><br><span class="line"></span><br><span class="line">	<span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>get<span class="constructor">OwnPropertySymbols(<span class="params">obj</span>)</span>.<span class="keyword">for</span><span class="constructor">Each(<span class="params">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">		console.log(&#x27;symbol&#x27;,item,obj<span class="literal">[<span class="identifier">item</span>]</span>); <span class="comment">//symbol Symbol(abc) 123</span></span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="module-access"><span class="module"><span class="identifier">Reflect</span>.</span></span>own<span class="constructor">Keys(<span class="params">obj</span>)</span>.<span class="keyword">for</span><span class="constructor">Each(<span class="params">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">		console.log(item,obj<span class="literal">[<span class="identifier">item</span>]</span>); </span><br><span class="line">		<span class="comment">//abc 234</span></span><br><span class="line">		<span class="comment">//c 345</span></span><br><span class="line">		<span class="comment">//Symbol(abc) 123</span></span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十-Map和Set数据结构"><a href="#十-Map和Set数据结构" class="headerlink" title="十 Map和Set数据结构"></a>十 Map和Set数据结构</h1><h2 id="1-set的基本用法"><a href="#1-set的基本用法" class="headerlink" title="1.set的基本用法"></a>1.set的基本用法</h2><p>ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。Set 本身是一个构造函数，用来生成 Set 数据结构。 Set 结构不会添加重复的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> list = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">	list.add(<span class="number">2</span>);</span><br><span class="line">	list.add(<span class="number">3</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(list.size);  <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">	<span class="keyword">let</span> list2 = <span class="keyword">new</span> <span class="built_in">Set</span>(arr);</span><br><span class="line">	<span class="built_in">console</span>.log(list2.size); <span class="comment">//5</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">console</span>.log(list2) <span class="comment">//&#123;1, 2, 3, 4, 5&#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">let</span> arr2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>];   <span class="comment">//这里可以当作数组去重</span></span><br><span class="line">	<span class="keyword">let</span> list3 = <span class="keyword">new</span> <span class="built_in">Set</span>(arr2);</span><br><span class="line">	<span class="built_in">console</span>.log(list3) <span class="comment">//&#123;1, 2, 3, 4&#125;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>add(value)：添加某个值，返回Set结构本身。<br>delete(value)：删除某个值，返回一个布尔值，表示删除是否成功。<br>has(value)：返回一个布尔值，表示该值是否为Set的成员。<br>clear()：清除所有成员，没有返回值。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	let arr = [<span class="string">&#x27;add&#x27;</span>,<span class="string">&#x27;delete&#x27;</span>,<span class="string">&#x27;clear&#x27;</span>,<span class="string">&#x27;has&#x27;</span>];</span><br><span class="line">	let list = new Set(arr);</span><br><span class="line">	console.log(list); <span class="regexp">//</span> &#123;<span class="string">&quot;add&quot;</span>, <span class="string">&quot;delete&quot;</span>, <span class="string">&quot;clear&quot;</span>, <span class="string">&quot;has&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">	list.<span class="keyword">delete</span>(<span class="string">&#x27;add&#x27;</span>);</span><br><span class="line">	console.log(list); <span class="regexp">//</span> &#123;<span class="string">&quot;delete&quot;</span>, <span class="string">&quot;clear&quot;</span>, <span class="string">&quot;has&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">	console.log(list.has(<span class="string">&#x27;clear&#x27;</span>)); <span class="regexp">//</span> true</span><br><span class="line"></span><br><span class="line">	list.clear();  </span><br><span class="line">	console.log(list); <span class="regexp">//</span>&#123;&#125;</span><br><span class="line">	<span class="regexp">//</span>set遍历方法</span><br><span class="line">	&#123;</span><br><span class="line">		let arr = [<span class="string">&#x27;add&#x27;</span>,<span class="string">&#x27;delete&#x27;</span>,<span class="string">&#x27;clear&#x27;</span>,<span class="string">&#x27;has&#x27;</span>];</span><br><span class="line">		let list = new Set(arr);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(let key of list.keys())&#123;</span><br><span class="line">			console.log(<span class="string">&#x27;keys&#x27;</span>,key)</span><br><span class="line">			<span class="regexp">//</span>keys add</span><br><span class="line">			<span class="regexp">//</span>keys <span class="keyword">delete</span></span><br><span class="line">			<span class="regexp">//</span>keys clear</span><br><span class="line">			<span class="regexp">//</span>keys has</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(let value of list.values())&#123;</span><br><span class="line">			console.log(<span class="string">&#x27;values&#x27;</span>,value)</span><br><span class="line">			<span class="regexp">//</span>values add</span><br><span class="line">			<span class="regexp">//</span>values <span class="keyword">delete</span></span><br><span class="line">			<span class="regexp">//</span>values clear</span><br><span class="line">			<span class="regexp">//</span>values has</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(let [key,value] of list.entries())&#123;</span><br><span class="line">			console.log(key,value);</span><br><span class="line">			<span class="regexp">//</span>add add</span><br><span class="line">			<span class="regexp">//</span><span class="keyword">delete</span> <span class="keyword">delete</span></span><br><span class="line">			<span class="regexp">//</span>clear clear</span><br><span class="line">			<span class="regexp">//</span>has has</span><br><span class="line">		&#125;</span><br><span class="line">		list.forEach(<span class="keyword">function</span>(item)&#123;console.log(item)&#125;)</span><br><span class="line">		   <span class="regexp">//</span> add</span><br><span class="line">		   <span class="regexp">//</span> <span class="keyword">delete</span></span><br><span class="line">		   <span class="regexp">//</span> clear</span><br><span class="line">		   <span class="regexp">//</span> has</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="2-WeakSet基本用法"><a href="#2-WeakSet基本用法" class="headerlink" title="2.WeakSet基本用法"></a>2.WeakSet基本用法</h2><p>WeakSet结构与Set类似，也是不重复的值的集合。但是，它与 Set有两个区别。首先，WeakSet 的成员只能是对象，而不能是其他类型的值。<br>WeakSet中的对象都是弱引用，即垃圾回收机制不考虑 WeakSet 对该对象的引用，也就是说，如果其他对象都不再引用该对象，那么垃圾回收机制会自动回收该对象所占用的内存，不考虑该对象还存在于 WeakSet 之中。<br>WeakSet.prototype.add(value)：向 WeakSet 实例添加一个新成员。<br>WeakSet.prototype.delete(value)：清除 WeakSet 实例的指定成员。<br>WeakSet.prototype.has(value)：返回一个布尔值，表示某个值是否在 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="keyword">const</span> ws = <span class="keyword">new</span> <span class="built_in">WeakSet</span>();</span><br><span class="line">	ws.add(<span class="number">1</span>)</span><br><span class="line">	<span class="comment">// TypeError: Invalid value used in weak set</span></span><br><span class="line">	ws.add(<span class="built_in">Symbol</span>())</span><br><span class="line">	<span class="comment">// TypeError: invalid value used in weak set</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">let</span> weakset = <span class="keyword">new</span> <span class="built_in">WeakSet</span>()  <span class="comment">// 没有clear，set方法，不能遍历</span></span><br><span class="line">	<span class="keyword">let</span> obj = &#123;&#125;   </span><br><span class="line">	weakset.add(obj)</span><br><span class="line">	<span class="comment">// weekset.add(2)  WeakSet必须添加的是对象，弱引用   </span></span><br><span class="line">	<span class="built_in">console</span>.log(weakset);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-Map的基本用法"><a href="#3-Map的基本用法" class="headerlink" title="3.Map的基本用法"></a>3.Map的基本用法</h2><p>ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。也就是说，Object结构提供了“字符串—值”的对应，Map结构提供了“值—值”的</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="keyword">const</span> <span class="built_in">map</span> = <span class="keyword">new</span> Map([</span><br><span class="line">	  [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>],</span><br><span class="line">	  [<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;Author&#x27;</span>]</span><br><span class="line">	]);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">map</span>.<span class="built_in">size</span> <span class="comment">// 2</span></span><br><span class="line">	<span class="built_in">map</span>.has(<span class="string">&#x27;name&#x27;</span>) <span class="comment">// true</span></span><br><span class="line">	<span class="built_in">map</span>.<span class="built_in">get</span>(<span class="string">&#x27;name&#x27;</span>) <span class="comment">// &quot;张三&quot;</span></span><br><span class="line">	<span class="built_in">map</span>.has(<span class="string">&#x27;title&#x27;</span>) <span class="comment">// true</span></span><br><span class="line">	<span class="built_in">map</span>.<span class="built_in">get</span>(<span class="string">&#x27;title&#x27;</span>) <span class="comment">// &quot;Author&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">	let <span class="built_in">map</span> = <span class="keyword">new</span> Map();</span><br><span class="line">	let arr = [<span class="string">&#x27;123&#x27;</span>];</span><br><span class="line">	<span class="built_in">map</span>.<span class="built_in">set</span>(arr,<span class="string">&#x27;456&#x27;</span>);</span><br><span class="line">	console.<span class="built_in">log</span>(<span class="built_in">map</span>,<span class="built_in">map</span>.<span class="built_in">get</span>(arr)) <span class="comment">// &#123;[&quot;123&quot;] =&gt; &quot;456&quot;&#125; &quot;456&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">	let <span class="built_in">map</span> = <span class="keyword">new</span> Map([[<span class="string">&#x27;a&#x27;</span>,<span class="number">123</span>],[<span class="string">&#x27;b&#x27;</span>,<span class="number">456</span>]])</span><br><span class="line">	console.<span class="built_in">log</span>(<span class="built_in">map</span>);  					<span class="comment">//&#123;&quot;a&quot; =&gt; 123, &quot;b&quot; =&gt; 456&#125;</span></span><br><span class="line">	console.<span class="built_in">log</span>(<span class="built_in">map</span>.<span class="built_in">size</span>);  			<span class="comment">//2</span></span><br><span class="line">	console.<span class="built_in">log</span>(<span class="string">&#x27;123&#x27;</span>+<span class="built_in">map</span>.delete(<span class="string">&#x27;a&#x27;</span>)); <span class="comment">//true</span></span><br><span class="line">	console.<span class="built_in">log</span>(<span class="built_in">map</span>)  					<span class="comment">// &#123;&quot;b&quot; =&gt; 456&#125;</span></span><br><span class="line">	<span class="built_in">map</span>.<span class="built_in">clear</span>()</span><br><span class="line">	console.<span class="built_in">log</span>(<span class="built_in">map</span>);					<span class="comment">//&#123;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-WeakMap的一些API"><a href="#4-WeakMap的一些API" class="headerlink" title="4.WeakMap的一些API"></a>4.WeakMap的一些API</h2><p>WeakMap只接受对象作为键名（null除外），不接受其他类型的值作为键名。<br>WeakMap的键名所引用的对象都是弱引用，即垃圾回收机制不将该引用考虑在内。因此，只要所引用的对象的其他引用都被清除，垃圾回收机制就会释放该对象所占用的内存。也就是说，一旦不再需要，WeakMap里面的键名对象和所对应的键值对会自动消失，不用手动删除引用。<br><strong>WeakMap 与 Map 在 API 上的区别主要是两个，一是没有遍历操作（即没有key()、values()和entries()方法），也没有size属性。因为没有办法列出所有键名，某个键名是否存在完全不可预测，跟垃圾回收机制是否运行相关。这一刻可以取到键名，下一刻垃圾回收机制突然运行了，这个键名就没了，为了防止出现不确定性，就统一规定不能取到键名。二是无法清空，即不支持clear方法。因此，WeakMap只有四个方法可用：get()、set()、has()、delete()。</strong></p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	let weakmap = new WeakMap() //没有clear，set方法，不能遍历</span><br><span class="line">	let o = &#123;&#125;</span><br><span class="line">	weakmap.set(<span class="name">o</span>,<span class="number">123</span>)<span class="comment">;</span></span><br><span class="line">	console.log(<span class="name">weakmap.get</span>(<span class="name">o</span>))<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十一-proxy和reflect"><a href="#十一-proxy和reflect" class="headerlink" title="十一 proxy和reflect"></a>十一 proxy和reflect</h1><h2 id="1-Proxy"><a href="#1-Proxy" class="headerlink" title="1.Proxy"></a>1.Proxy</h2><p>Proxy用于修改某些操作的默认行为，等同于在语言层面做出修改，所以属于一种“元编程”（meta programming），即对编程语言进行编程。Proxy 可以理解成，在目标对象之前架设一层“拦截”，外界对该对象的访问，都必须先通过这层拦截，因此提供了一种机制，可以对外界的访问进行过滤和改写。Proxy这个词的原意是代理，用在这里表示由它来“代理”某些操作，可以译为“代理器”。</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let obj = &#123;</span><br><span class="line">    <span class="type">name</span>:<span class="string">&#x27;gaojingbo&#x27;</span>,</span><br><span class="line">    <span class="type">time</span>:<span class="string">&#x27;2017-08-13&#x27;</span>,</span><br><span class="line">    emp:<span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">  let <span class="keyword">temp</span> = <span class="built_in">new</span> Proxy(obj,&#123;</span><br><span class="line">    <span class="keyword">get</span>(target,key)&#123;</span><br><span class="line">          <span class="keyword">return</span> target[key].replace(<span class="string">&#x27;2017&#x27;</span>,<span class="string">&#x27;2018&#x27;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>(target,key,<span class="keyword">value</span>)&#123;</span><br><span class="line">      <span class="keyword">if</span>(key === <span class="string">&#x27;name&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> target[key] = <span class="keyword">value</span>;</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> target[key];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    has(target,key)&#123;</span><br><span class="line">      <span class="keyword">if</span>(key === <span class="string">&#x27;name&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> target[key];</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    deleteProperty(target,key)&#123;</span><br><span class="line">      <span class="keyword">if</span>(key.indexOf(<span class="string">&#x27;i&#x27;</span>) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="keyword">delete</span> target[key];</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> target[key];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    ownKeys(target)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">Object</span>.keys(target).<span class="keyword">filter</span>(item=&gt;item!=<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  console.log(<span class="string">&#x27;get&#x27;</span>,<span class="keyword">temp</span>.time);  //<span class="keyword">get</span> <span class="number">2018</span><span class="number">-08</span><span class="number">-13</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">temp</span>.time = <span class="string">&#x27;2018&#x27;</span>;</span><br><span class="line">  console.log(<span class="string">&#x27;set&#x27;</span>,<span class="keyword">temp</span>.name,<span class="keyword">temp</span>); //<span class="keyword">set</span> gaojingbo   &#123;<span class="type">name</span>: &quot;gaojingbo&quot;, <span class="type">time</span>: &quot;2017-08-13&quot;, <span class="keyword">temp</span>: &quot;123&quot;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">temp</span>.name = <span class="string">&#x27;hexiaofei&#x27;</span>;</span><br><span class="line">  console.log(<span class="string">&#x27;set&#x27;</span>,<span class="keyword">temp</span>.name,<span class="keyword">temp</span>); // <span class="keyword">set</span> hexiaofei  &#123;<span class="type">name</span>: &quot;hexiaofei&quot;, <span class="type">time</span>: &quot;2017-08-13&quot;, <span class="keyword">temp</span>: &quot;123&quot;&#125;</span><br><span class="line"></span><br><span class="line">  console.log(<span class="string">&#x27;has&#x27;</span>,<span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> <span class="keyword">temp</span>,<span class="string">&#x27;time&#x27;</span> <span class="keyword">in</span> <span class="keyword">temp</span>);  //has <span class="keyword">true</span> <span class="keyword">false</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> <span class="keyword">temp</span>.time;</span><br><span class="line">  console.log(<span class="string">&#x27;delete&#x27;</span>,<span class="keyword">temp</span>);   //<span class="keyword">delete</span>  &#123;<span class="type">name</span>: &quot;hexiaofei&quot;, <span class="keyword">temp</span>: &quot;123&quot;&#125;</span><br><span class="line"></span><br><span class="line">  console.log(<span class="string">&#x27;ownkeys&#x27;</span>,<span class="keyword">Object</span>.keys(<span class="keyword">temp</span>));  //[&quot;emp&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-Reflect"><a href="#2-Reflect" class="headerlink" title="2.Reflect"></a>2.Reflect</h2><p>Reflect对象与Proxy对象一样，也是 ES6 为了操作对象而提供的新 API。Reflect对象的设计目的有这样几个。<br>（1） 将Object对象的一些明显属于语言内部的方法（比如Object.defineProperty），放到Reflect对象上。现阶段，某些方法同时在Object和Reflect对象上部署，未来的新方法将只部署在Reflect对象上。也就是说，从Reflect对象上可以拿到语言内部的方法。<br>（2） 修改某些Object方法的返回结果，让其变得更合理。比如，Object.defineProperty(obj, name, desc)在无法定义属性时，会抛出一个错误，而Reflect.defineProperty(obj, name, desc)则会返回false。<br>（3） 让Object操作都变成函数行为。某些Object操作是命令式，比如name in obj和delete obj[name]，而Reflect.has(obj, name)和Reflect.deleteProperty(obj, name)让它们变成了函数行为。<br>（4）Reflect对象的方法与Proxy对象的方法一一对应，只要是Proxy对象的方法，就能在Reflect对象上找到对应的方法。这就让Proxy对象可以方便地调用对应的Reflect方法，完成默认行为，作为修改行为的基础。也就是说，不管Proxy怎么修改默认行为，你总可以在Reflect上获取默认行为。</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let obj = &#123;</span><br><span class="line">    <span class="type">name</span>:<span class="string">&#x27;gaojingbo&#x27;</span>,</span><br><span class="line">    <span class="type">time</span>:<span class="string">&#x27;2017-08-13&#x27;</span>,</span><br><span class="line">    emp:<span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">  console.log(<span class="string">&#x27;reflect get&#x27;</span>,Reflect.<span class="keyword">get</span>(obj, <span class="string">&#x27;name&#x27;</span>));  // reflect <span class="keyword">get</span> gaojingbo</span><br><span class="line">  Reflect.<span class="keyword">set</span>(obj,<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;hexaiofei&#x27;</span>);</span><br><span class="line">  console.log(obj);  // &#123;<span class="type">name</span>: &quot;hexaiofei&quot;, <span class="type">time</span>: &quot;2017-08-13&quot;, emp: &quot;123&quot;&#125;</span><br><span class="line">  console.log(<span class="string">&#x27;reflect has&#x27;</span>, Reflect.has(obj,<span class="string">&#x27;name&#x27;</span>));  //reflect has <span class="keyword">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-简单应用"><a href="#3-简单应用" class="headerlink" title="3.简单应用"></a>3.简单应用</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">validator</span>(<span class="params">target,validator</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Proxy</span>(target,&#123;</span><br><span class="line">      <span class="attr">_validator</span>:validator,</span><br><span class="line">      <span class="function"><span class="title">set</span>(<span class="params">target,key,value,proxy</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(target.hasOwnProperty(key))&#123;</span><br><span class="line">          <span class="keyword">let</span> va = <span class="built_in">this</span>._validator[key];</span><br><span class="line">          <span class="keyword">if</span>(!!va(value))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(target,key,value,proxy);</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">`不能设置<span class="subst">$&#123;key&#125;</span>到<span class="subst">$&#123;value&#125;</span>`</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">`<span class="subst">$&#123;key&#125;</span>不存在`</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> personValidators=&#123;</span><br><span class="line">    <span class="function"><span class="title">name</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">typeof</span> value === <span class="string">&#x27;string&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">age</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">typeof</span> value === <span class="string">&#x27;number&#x27;</span> &amp;&amp; value &gt; <span class="number">18</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name,age</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.name = name;</span><br><span class="line">      <span class="built_in">this</span>.age = age;</span><br><span class="line">      <span class="keyword">return</span> validator(<span class="built_in">this</span>,personValidators)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> person = <span class="keyword">new</span> Person(<span class="string">&#x27;lilei&#x27;</span>,<span class="number">30</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(person);</span><br><span class="line"></span><br><span class="line">  person.name = <span class="number">48</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="十二-Class的基本语法"><a href="#十二-Class的基本语法" class="headerlink" title="十二 Class的基本语法"></a>十二 Class的基本语法</h1><h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1.简介"></a>1.简介</h2><p>ES6 提供了更接近传统语言的写法，引入了Class（类）这个概念，作为对象的模板。通过class关键字，可以定义类。基本上，ES6的class可以看作只是一个语法糖，它的绝大部分功能，ES5 都可以做到，新的class写法只是让对象原型的写法更加清晰、更像面向对象编程的语法而已。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name=<span class="string">&#x27;gaojingbo&#x27;</span></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> v_parent = <span class="keyword">new</span> Parent();</span><br><span class="line">  <span class="built_in">console</span>.log(v_parent);  <span class="comment">//&#123;name: &quot;gaojingbo&quot;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-继承"><a href="#2-继承" class="headerlink" title="2.继承"></a>2.继承</h2><p>Class可以通过extends关键字实现继承，这比ES5的通过修改原型链实现继承，要清晰和方便很多。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    constructor(name=<span class="symbol">&#x27;gaojingb</span>o&#x27;) &#123;</span><br><span class="line">      <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">child</span> <span class="keyword">extends</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  let v_child = <span class="keyword">new</span> child();</span><br><span class="line">  console.log(v_child);  <span class="comment">//&#123;name: &quot;gaojingbo&quot;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-super关键字"><a href="#3-super关键字" class="headerlink" title="3.super关键字"></a>3.super关键字</h2><p>super这个关键字，既可以当作函数使用，也可以当作对象使用。在这两种情况下，它的用法完全不同。第一种情况，super作为函数调用时，代表父类的构造函数。ES6 要求，子类的构造函数必须执行一次super函数。第二种情况，super作为对象时，在普通方法中，指向父类的原型对象；在静态方法中，指向父类。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    constructor(name=<span class="symbol">&#x27;gaojingb</span>o&#x27;) &#123;</span><br><span class="line">      <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">child</span> <span class="keyword">extends</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    constructor(name=<span class="symbol">&#x27;chil</span>d&#x27;)&#123;</span><br><span class="line">      <span class="keyword">super</span>(name);</span><br><span class="line">      <span class="keyword">this</span>.<span class="keyword">type</span> = <span class="symbol">&#x27;chil</span>d&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  let v_child = <span class="keyword">new</span> child();</span><br><span class="line">  console.log(v_child);  <span class="comment">//&#123;name: &quot;child&quot;, type: &quot;child&quot;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-getter和setter"><a href="#4-getter和setter" class="headerlink" title="4.getter和setter"></a>4.getter和setter</h2><p>与 ES5 一样，在“类”的内部可以使用get和set关键字，对某个属性设置存值函数和取值函数，拦截该属性的存取行为。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name=<span class="string">&#x27;gaojingbo&#x27;</span></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">get</span> <span class="title">longName</span>()&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&#x27;mk&#x27;</span> + <span class="built_in">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> <span class="title">longName</span>(<span class="params">value</span>)&#123;</span><br><span class="line">      <span class="comment">// console.log(value);</span></span><br><span class="line">      <span class="built_in">this</span>.name = value;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> v_parent = <span class="keyword">new</span> Parent();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;get&#x27;</span>,v_parent.longName);  <span class="comment">//get mkgaojingbo</span></span><br><span class="line"></span><br><span class="line">  v_parent.longName = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;get&#x27;</span>,v_parent.longName);  <span class="comment">//get mkhello</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-静态方法"><a href="#5-静态方法" class="headerlink" title="5.静态方法"></a>5.静态方法</h2><p>类相当于实例的原型，所有在类中定义的方法，都会被实例继承。如果在一个方法前，加上static关键字，就表示该方法不会被实例继承，而是直接通过类来调用，这就称为“静态方法”。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name=<span class="string">&#x27;gaojingbo&#x27;</span></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="title">tell</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;tell&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> v_parent = <span class="keyword">new</span> Parent();</span><br><span class="line">  <span class="built_in">console</span>.log(v_parent);  <span class="comment">//&#123;name: &quot;gaojingbo&quot;&#125;</span></span><br><span class="line">  Parent.tell(); <span class="comment">// tell</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-静态属性"><a href="#6-静态属性" class="headerlink" title="6.静态属性"></a>6.静态属性</h2><p>静态属性指的是Class本身的属性，即Class.propName，而不是定义在实例对象（this）上的属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name=<span class="string">&#x27;gaojingbo&#x27;</span></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125; </span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  Parent.tell = <span class="string">&#x27;nihao&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> v_parent = <span class="keyword">new</span> Parent();</span><br><span class="line">  <span class="built_in">console</span>.log(v_parent);  <span class="comment">//&#123;name: &quot;gaojingbo&quot;&#125;</span></span><br><span class="line">  <span class="built_in">console</span>.log(Parent.tell);   <span class="comment">// nihao</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十三-Promise"><a href="#十三-Promise" class="headerlink" title="十三 Promise"></a>十三 Promise</h1><p>Promise 是异步编程的一种解决方案，比传统的解决方案——回调函数和事件——更合理和更强大。它由社区最早提出和实现，ES6 将其写进了语言标准，统一了用法，原生提供了Promise对象。所谓Promise，简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。从语法上说，Promise 是一个对象，从它可以获取异步操作的消息。Promise 提供统一的 API，各种异步操作都可以用同样的方法进行处理。<br>Promise对象有以下两个特点。<br>（1）对象的状态不受外界影响。Promise对象代表一个异步操作，有三种状态：Pending（进行中）、Fulfilled（已成功）和Rejected（已失败）。只有异步操作的结果，可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。这也是Promise这个名字的由来，它的英语意思就是“承诺”，表示其他手段无法改变。<br>（2）一旦状态改变，就不会再变，任何时候都可以得到这个结果。Promise对象的状态改变，只有两种可能：从Pending变为Fulfiled和从Pending变为Rejected。只要这两种情况发生，状态就凝固了，不会再变了，会一直保持这个结果，这时就称为 Resolved（已定型）。如果改变已经发生了，你再对Promise对象添加回调函数，也会立即得到这个结果。这与事件（Event）完全不同，事件的特点是，如果你错过了它，再去监听，是得不到结果的。</p>
<p>注意，为了行文方便，本章后面的Resolved统一只指Fulfilled状态，不包含Rejected状态。</p>
<p>有了Promise对象，就可以将异步操作以同步操作的流程表达出来，避免了层层嵌套的回调函数。此外，Promise对象提供统一的接口，使得控制异步操作更加容易。</p>
<p>Promise也有一些缺点。首先，无法取消Promise，一旦新建它就会立即执行，无法中途取消。其次，如果不设置回调函数，Promise内部抛出的错误，不会反应到外部。第三，当处于Pending状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）。</p>
<p>如果某些事件不断地反复发生，一般来说，使用 Stream 模式是比部署Promise更好的选择。</p>
<h2 id="1-基本用法-1"><a href="#1-基本用法-1" class="headerlink" title="1.基本用法"></a>1.基本用法</h2><p>Promise构造函数接受一个函数作为参数，该函数的两个参数分别是resolve和reject。它们是两个函数，由 JavaScript 引擎提供，不用自己部署。</p>
<p>resolve函数的作用是，将Promise对象的状态从“未完成”变为“成功”（即从 Pending 变为 Resolved），在异步操作成功时调用，并将异步操作的结果，作为参数传递出去；reject函数的作用是，将Promise对象的状态从“未完成”变为“失败”（即从 Pending 变为 Rejected），在异步操作失败时调用，并将异步操作报出的错误，作为参数传递出去。</p>
<p>Promise实例生成以后，可以用then方法分别指定Resolved状态和Rejected状态的回调函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5的回调函数</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> ajax = <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;nihao&#x27;</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      callback &amp;&amp; callback.call()</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  ajax(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;timeout1&#x27;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// es6 Promise的用法</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> ajax = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;wohao&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        resolve();</span><br><span class="line">      &#125;,<span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  ajax().then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise&#x27;</span>,<span class="string">&#x27;timeout1&#x27;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;   <span class="comment">// promise的用法</span></span><br><span class="line">  <span class="comment">// success</span></span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// failure</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="2-Promise-prototype-then"><a href="#2-Promise-prototype-then" class="headerlink" title="2.Promise.prototype.then()"></a>2.Promise.prototype.then()</h2><p>Promise实例具有then方法，也就是说，then方法是定义在原型对象Promise.prototype上的。它的作用是为 Promise 实例添加状态改变时的回调函数。前面说过，then方法的第一个参数是Resolved状态的回调函数，第二个参数（可选）是Rejected状态的回调函数。<br>then方法返回的是一个新的Promise实例（注意，不是原来那个Promise实例）。因此可以采用链式写法，即then方法后面再调用另一个then方法。</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let ajax = function()&#123;</span><br><span class="line">    console.log(<span class="name">&#x27;dajiahao&#x27;</span>)<span class="comment">;</span></span><br><span class="line">    return new Promise((<span class="name"><span class="builtin-name">resolve</span></span>, reject) =&gt; &#123;</span><br><span class="line">      setTimeout(<span class="name">function</span>()&#123;</span><br><span class="line">        resolve()<span class="comment">;</span></span><br><span class="line">      &#125;,<span class="number">1000</span>)<span class="comment">;</span></span><br><span class="line">    &#125;)<span class="comment">;</span></span><br><span class="line">  &#125;<span class="comment">;</span></span><br><span class="line">  ajax().then(<span class="name">function</span>()&#123;</span><br><span class="line">    return new Promise((<span class="name"><span class="builtin-name">resolve</span></span>, reject) =&gt; &#123;</span><br><span class="line">      setTimeout(<span class="name">function</span>()&#123;</span><br><span class="line">        resolve()<span class="comment">;</span></span><br><span class="line">      &#125;,<span class="number">2000</span>)</span><br><span class="line">    &#125;)<span class="comment">;</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="name">function</span>()&#123;</span><br><span class="line">    console.log(<span class="name">&#x27;timeout3&#x27;</span>)<span class="comment">;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-Promise-prototype-catch"><a href="#3-Promise-prototype-catch" class="headerlink" title="3.Promise.prototype.catch()"></a>3.Promise.prototype.catch()</h2><p>Promise.prototype.catch方法是.then(null, rejection)的别名，用于指定发生错误时的回调函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> ajax = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;dajiahao&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(num&gt;<span class="number">6</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;6&#x27;</span>);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;出错了&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  ajax(<span class="number">3</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;3&#x27;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error)   <span class="comment">//出错了</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-Promise-all"><a href="#4-Promise-all" class="headerlink" title="4.Promise.all"></a>4.Promise.all</h2><p>Promise.all方法用于将多个 Promise 实例，包装成一个新的 Promise 实例。</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">var</span> p = Promise.<span class="literal">all</span>([p<span class="number">1</span>, p<span class="number">2</span>, p<span class="number">3</span>]);</span><br></pre></td></tr></table></figure>
<p>上面代码中，Promise.all方法接受一个数组作为参数，p1、p2、p3都是 Promise 实例，如果不是，就会先调用下面讲到的Promise.resolve方法，将参数转为 Promise 实例，再进一步处理。（Promise.all方法的参数可以不是数组，但必须具有 Iterator 接口，且返回的每个成员都是 Promise 实例。）</p>
<p>p的状态由p1、p2、p3决定，分成两种情况。</p>
<p>（1）只有p1、p2、p3的状态都变成fulfilled，p的状态才会变成fulfilled，此时p1、p2、p3的返回值组成一个数组，传递给p的回调函数。</p>
<p>（2）只要p1、p2、p3之中有一个被rejected，p的状态就变成rejected，此时第一个被reject的实例的返回值，会传递给p的回调函数。</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  function loadImg(<span class="name">src</span>)&#123;</span><br><span class="line">    return new Promise((<span class="name"><span class="builtin-name">resolve</span></span>, reject) =&gt; &#123;</span><br><span class="line">      let img = document.createElement(<span class="name">&#x27;img&#x27;</span>)<span class="comment">;</span></span><br><span class="line">      img.src=src;</span><br><span class="line">      img.onload = function()&#123;</span><br><span class="line">        resolve(<span class="name">img</span>)<span class="comment">;</span></span><br><span class="line">      &#125;</span><br><span class="line">      img.onerror = function(<span class="name">error</span>)&#123;</span><br><span class="line">        reject(<span class="name">error</span>)<span class="comment">;  </span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)<span class="comment">;</span></span><br><span class="line">  &#125;</span><br><span class="line">  function showImgs(<span class="name">imgs</span>)&#123;</span><br><span class="line">    imgs.forEach(<span class="name">function</span>(<span class="name">img</span>)&#123;</span><br><span class="line">      document.body.appendChild(<span class="name">img</span>)<span class="comment">;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  Promise.all([</span><br><span class="line">    loadImg(<span class="name">&#x27;&#x27;</span>),</span><br><span class="line">    loadImg(<span class="name">&#x27;&#x27;</span>),</span><br><span class="line">    loadImg(<span class="name">&#x27;&#x27;</span>),</span><br><span class="line">  ]).then(<span class="name">showImgs</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-Promise-race"><a href="#4-Promise-race" class="headerlink" title="4.Promise.race"></a>4.Promise.race</h2><p>Promise.race方法同样是将多个Promise实例，包装成一个新的Promise实例。</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">var</span> p = Promise.race([p<span class="number">1</span>, p<span class="number">2</span>, p<span class="number">3</span>]);</span><br></pre></td></tr></table></figure>
<p>上面代码中，只要p1、p2、p3之中有一个实例率先改变状态，p的状态就跟着改变。那个率先改变的 Promise 实例的返回值，就传递给p的回调函数。<br>Promise.race方法的参数与Promise.all方法一样，如果不是 Promise 实例，就会先调用下面讲到的Promise.resolve方法，将参数转为 Promise 实例，再进一步处理。<br>下面是一个例子，如果指定时间内没有获得结果，就将Promise的状态变为reject，否则变为resolve。</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  function loadImg(<span class="name">src</span>)&#123;</span><br><span class="line">    return new Promise((<span class="name"><span class="builtin-name">resolve</span></span>, reject) =&gt; &#123;</span><br><span class="line">      let img = document.createElement(<span class="name">&#x27;img&#x27;</span>)<span class="comment">;</span></span><br><span class="line">      img.src=src;</span><br><span class="line">      img.onload = function()&#123;</span><br><span class="line">        resolve(<span class="name">img</span>)<span class="comment">;</span></span><br><span class="line">      &#125;</span><br><span class="line">      img.onerror = function(<span class="name">error</span>)&#123;</span><br><span class="line">        reject(<span class="name">error</span>)<span class="comment">;  </span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)<span class="comment">;</span></span><br><span class="line">  &#125;</span><br><span class="line">  function showImg(<span class="name">img</span>)&#123;</span><br><span class="line">    let img = document.createElement(<span class="name">&#x27;p&#x27;</span>)<span class="comment">;</span></span><br><span class="line">    p.appendChild(<span class="name">img</span>)<span class="comment">;</span></span><br><span class="line">    document.body.appendChild(<span class="name">p</span>)<span class="comment">;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Promise.race([</span><br><span class="line">    loadImg(<span class="name">&#x27;&#x27;</span>),</span><br><span class="line">    loadImg(<span class="name">&#x27;&#x27;</span>),</span><br><span class="line">    loadImg(<span class="name">&#x27;&#x27;</span>),</span><br><span class="line">  ]).then(<span class="name">showImgs</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十四-Iterator-和-for…of-循环"><a href="#十四-Iterator-和-for…of-循环" class="headerlink" title="十四 Iterator 和 for…of 循环"></a>十四 Iterator 和 for…of 循环</h1><p>Iterator 接口的目的，就是为所有数据结构，提供了一种统一的访问机制，即for…of循环。当使用for…of循环遍历某种数据结构时，该循环会自动去寻找 Iterator 接口。一种数据结构只要部署了 Iterator 接口，我们就称这种数据结构是”可遍历的“（iterable）。<br>ES6 规定，默认的 Iterator 接口部署在数据结构的Symbol.iterator属性，或者说，一个数据结构只要具有Symbol.iterator属性，就可以认为是“可遍历的”（iterable）。Symbol.iterator属性本身是一个函数，就是当前数据结构默认的遍历器生成函数。执行这个函数，就会返回一个遍历器。至于属性名Symbol.iterator，它是一个表达式，返回Symbol对象的iterator属性，这是一个预定义好的、类型为 Symbol的特殊值，所以要放在方括号内。</p>
<h2 id="1-数组的Symbol-iterator属性"><a href="#1-数组的Symbol-iterator属性" class="headerlink" title="1.数组的Symbol.iterator属性"></a>1.数组的Symbol.iterator属性</h2><p>变量arr是一个数组，原生就具有遍历器接口，部署在arr的Symbol.iterator属性上面。所以，调用这个属性，就得到遍历器对象。</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> arr = [<span class="string">&#x27;hellow&#x27;</span>,<span class="string">&#x27;world&#x27;</span>];</span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">map</span> = arr[Symbol.iterator]();</span><br><span class="line">  console.log(<span class="keyword">map</span>.<span class="keyword">next</span>());  //&#123;value: <span class="string">&quot;hellow&quot;</span>, done:<span class="built_in"> false</span>&#125;</span><br><span class="line">  console.log(<span class="keyword">map</span>.<span class="keyword">next</span>());  //&#123;value: <span class="string">&quot;world&quot;</span>, done:<span class="built_in"> false</span>&#125;</span><br><span class="line">  console.log(<span class="keyword">map</span>.<span class="keyword">next</span>());  //&#123;value: <span class="string">&quot;undefined&quot;</span>, done:<span class="built_in"> false</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-自定义的Iterator接口"><a href="#2-自定义的Iterator接口" class="headerlink" title="2.自定义的Iterator接口"></a>2.自定义的Iterator接口</h2><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let obj = &#123;</span><br><span class="line">    start:[<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>],</span><br><span class="line">    end:[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>],</span><br><span class="line">    [Symbol.iterator]()&#123;</span><br><span class="line">      let self = this;</span><br><span class="line">      let index = <span class="number">0</span><span class="comment">;</span></span><br><span class="line">      let arr = self.start.concat(<span class="name">self.end</span>)<span class="comment">;</span></span><br><span class="line">      let len = arr.length;</span><br><span class="line">      return &#123;</span><br><span class="line">        next()&#123;</span><br><span class="line">          if(<span class="name">index&lt;len</span>)&#123;</span><br><span class="line">            return &#123;</span><br><span class="line">              value:arr[index++],</span><br><span class="line">              done:false</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;else&#123;</span><br><span class="line">            return &#123;</span><br><span class="line">              value:arr[index++],</span><br><span class="line">              done:true</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  for(<span class="name"><span class="builtin-name">let</span></span> key of obj)&#123;</span><br><span class="line">    console.log(<span class="name"><span class="builtin-name">key</span></span>)<span class="comment">; //1 3 2 7 8 9</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十五-Genertor"><a href="#十五-Genertor" class="headerlink" title="十五 Genertor"></a>十五 Genertor</h1><h2 id="1-基本概念"><a href="#1-基本概念" class="headerlink" title="1.基本概念"></a>1.基本概念</h2><p>Generator 函数有多种理解角度。从语法上，首先可以把它理解成，Generator函数是一个状态机，封装了多个内部状态。执行 Generator 函数会返回一个遍历器对象，也就是说，Generator函数除了状态机，还是一个遍历器对象生成函数。返回的遍历器对象，可以依次遍历Generator函数内部的每一个状态。形式上，Generator 函数是一个普通函数，但是有两个特征。一是，function关键字与函数名之间有一个星号；二是，函数体内部使用yield表达式，定义不同的内部状态（yield在英语里的意思就是“产出”）。</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let tell = <span class="function"><span class="keyword">function</span>* <span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">yield</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    <span class="built_in">yield</span> <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  let k = tell();</span><br><span class="line">  console.<span class="built_in">log</span>(k.<span class="built_in">next</span>()); //&#123;value: <span class="string">&quot;a&quot;</span>, done: <span class="literal">false</span>&#125;</span><br><span class="line">  console.<span class="built_in">log</span>(k.<span class="built_in">next</span>()); //&#123;value: <span class="string">&quot;b&quot;</span>, done: <span class="literal">false</span>&#125;</span><br><span class="line">  console.<span class="built_in">log</span>(k.<span class="built_in">next</span>()); //&#123;value: <span class="string">&quot;c&quot;</span>, done: <span class="literal">true</span>&#125;</span><br><span class="line">  console.<span class="built_in">log</span>(k.<span class="built_in">next</span>()); //&#123;value: undefined, done: <span class="literal">true</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-与-Iterator-接口的关系"><a href="#2-与-Iterator-接口的关系" class="headerlink" title="2.与 Iterator 接口的关系"></a>2.与 Iterator 接口的关系</h2><p>由于 Generator 函数就是遍历器生成函数，因此可以把Generator赋值给对象的Symbol.iterator属性，从而使得该对象具有 Iterator 接口。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">  obj[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>* (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;2&#x27;</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;3&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> value <span class="keyword">of</span> obj)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value); <span class="comment">// 1 2 3</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-next方法"><a href="#3-next方法" class="headerlink" title="3.next方法"></a>3.next方法</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let state = <span class="function"><span class="keyword">function</span>* <span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="built_in">yield</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">      <span class="built_in">yield</span> <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">      <span class="built_in">yield</span> <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  let <span class="built_in">status</span> = state();</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="built_in">status</span>.<span class="built_in">next</span>());  //a</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="built_in">status</span>.<span class="built_in">next</span>());  //b</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="built_in">status</span>.<span class="built_in">next</span>());  //c</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="built_in">status</span>.<span class="built_in">next</span>());  //a</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="built_in">status</span>.<span class="built_in">next</span>());  //b</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="built_in">status</span>.<span class="built_in">next</span>());  //c</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="built_in">status</span>.<span class="built_in">next</span>());  //a</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-Genertor的简单应用"><a href="#4-Genertor的简单应用" class="headerlink" title="4.Genertor的简单应用"></a>4.Genertor的简单应用</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简单的抽奖</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> draw = <span class="function"><span class="keyword">function</span>(<span class="params">count</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.info(<span class="string">`剩余<span class="subst">$&#123;count&#125;</span>次`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> chou = <span class="function"><span class="keyword">function</span> *(<span class="params">count</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (count&gt;<span class="number">0</span>) &#123;</span><br><span class="line">      count--;</span><br><span class="line">      <span class="keyword">yield</span> draw(count);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> start = chou(<span class="number">5</span>);</span><br><span class="line">  <span class="keyword">let</span> btn = <span class="built_in">document</span>.createElement(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line">  btn.id = <span class="string">&#x27;start&#x27;</span>;</span><br><span class="line">  btn.textContent = <span class="string">&#x27;抽奖&#x27;</span>;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(btn);</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;start&#x27;</span>).addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    start.next();</span><br><span class="line">  &#125;,<span class="literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 长轮询</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> ajax = <span class="function"><span class="keyword">function</span>* (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        resolve(&#123;<span class="attr">code</span>:<span class="number">1</span>&#125;)</span><br><span class="line">      &#125;,<span class="number">200</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> pull = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> generator = ajax();</span><br><span class="line">    <span class="keyword">let</span> step = generator.next();</span><br><span class="line">    step.value.then(<span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(d.code != <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&#x27;wait&#x27;</span>);   <span class="comment">//隔一秒输出 wait</span></span><br><span class="line">          pull();</span><br><span class="line">        &#125;,<span class="number">1000</span>)</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(d);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  pull();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十六修饰器"><a href="#十六修饰器" class="headerlink" title="十六修饰器"></a>十六修饰器</h1><h2 id="1-方法的修饰"><a href="#1-方法的修饰" class="headerlink" title="1.方法的修饰"></a>1.方法的修饰</h2><p>修饰器函数一共可以接受三个参数，第一个参数是所要修饰的目标对象，即类的实例（这不同于类的修饰，那种情况时target参数指的是类本身）；第二个参数是所要修饰的属性名，第三个参数是该属性的描述对象。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let readonly = <span class="keyword">function</span>(target,name,descriptor)&#123;</span><br><span class="line">    descriptor.writable = false;</span><br><span class="line">    return descriptor;</span><br><span class="line">  &#125;;</span><br><span class="line">  class test&#123;</span><br><span class="line">    @readonly</span><br><span class="line">    time()&#123;</span><br><span class="line">      return <span class="string">&#x27;2017-08-27&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  let tests = new test();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  console.log(tests.time());  <span class="regexp">//</span> <span class="number">2017</span>-<span class="number">08</span>-<span class="number">27</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="regexp">//</span> let testss = new test();</span><br><span class="line">  <span class="regexp">//</span> <span class="regexp">//</span> tests.time = <span class="keyword">function</span>()&#123;</span><br><span class="line">  <span class="regexp">//</span> <span class="regexp">//</span>   console.log(<span class="string">&#x27;2017-08-28&#x27;</span>);</span><br><span class="line">  <span class="regexp">//</span> <span class="regexp">//</span> &#125;</span><br><span class="line">  <span class="regexp">//</span> console.log(tests.time());  <span class="regexp">//</span>Cannot assign to read only property <span class="string">&#x27;time&#x27;</span> of object</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-类的修饰"><a href="#2-类的修饰" class="headerlink" title="2.类的修饰"></a>2.类的修饰</h2><p>修饰器是一个对类进行处理的函数。修饰器函数的第一个参数，就是所要修饰的目标类。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> typename = <span class="function"><span class="keyword">function</span>(<span class="params">target,name,descriptor</span>)</span>&#123;</span><br><span class="line">    target.myname = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="meta">@typename</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(test.myname) <span class="comment">// hello</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十七模块化"><a href="#十七模块化" class="headerlink" title="十七模块化"></a>十七模块化</h1><p>ES6 模块不是对象，而是通过export命令显式指定输出的代码，再通过import命令输入。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">let</span> A = <span class="number">123</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">text</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;123&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">hello</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">text</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;345&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> A = <span class="number">123</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">text</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;123&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">hello</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">text</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;345&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    A,</span><br><span class="line">    text,</span><br><span class="line">    hello</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/es6/" rel="tag"># es6</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item"></div>
      <div class="post-nav-item">
    <a href="/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93-2017%E5%B9%B411%E6%9C%88.html" rel="next" title="项目总结(2017年11月)">
      项目总结(2017年11月) <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80-let%E5%92%8Cconst"><span class="nav-number">1.</span> <span class="nav-text">一 let和const</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-let"><span class="nav-number">1.1.</span> <span class="nav-text">1.let</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-const"><span class="nav-number">1.2.</span> <span class="nav-text">2.const</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C-%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="nav-number">2.</span> <span class="nav-text">二 解构赋值</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="nav-number">2.1.</span> <span class="nav-text">1.基本用法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="nav-number">2.2.</span> <span class="nav-text">2.对象的解构赋值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="nav-number">2.3.</span> <span class="nav-text">3.默认值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8"><span class="nav-number">2.4.</span> <span class="nav-text">4.实际应用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E4%BA%A4%E6%8D%A2"><span class="nav-number">2.4.1.</span> <span class="nav-text">变量的交换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E6%94%B6%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E7%9A%84%E5%80%BC"><span class="nav-number">2.4.2.</span> <span class="nav-text">接收函数返回的值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%E7%9A%84%E5%BA%94%E7%94%A8"><span class="nav-number">2.5.</span> <span class="nav-text">5.对象的解构赋值的应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%E7%9A%84%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="nav-number">2.6.</span> <span class="nav-text">6.解构赋值的简单应用举例</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89-%E6%AD%A3%E5%88%99%E7%9A%84%E6%89%A9%E5%B1%95"><span class="nav-number">3.</span> <span class="nav-text">三 正则的扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%9D%A5%E5%88%9B%E5%BB%BA%E6%AD%A3%E5%88%99"><span class="nav-number">3.1.</span> <span class="nav-text">1.构造函数来创建正则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-g%E4%BF%AE%E9%A5%B0%E7%AC%A6%E5%92%8Cy%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-number">3.2.</span> <span class="nav-text">2.g修饰符和y修饰符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-u%E4%BF%AE%E9%A5%B0%E7%AC%A6-unicode"><span class="nav-number">3.3.</span> <span class="nav-text">3.u修饰符(unicode)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%89%A9%E5%B1%95"><span class="nav-number">4.</span> <span class="nav-text">四 字符串扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-unicode%E7%9A%84%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95"><span class="nav-number">4.1.</span> <span class="nav-text">1.unicode的表示方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-codePointAt%E5%92%8CcharCodeAt%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="nav-number">4.2.</span> <span class="nav-text">2.codePointAt和charCodeAt的对比</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-fromCharCode%E5%92%8CfromCodePoint"><span class="nav-number">4.3.</span> <span class="nav-text">3.fromCharCode和fromCodePoint</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%81%8D%E5%8E%86%E5%99%A8"><span class="nav-number">4.4.</span> <span class="nav-text">4.字符串遍历器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2api"><span class="nav-number">4.5.</span> <span class="nav-text">5.一些常用的字符串api</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">4.6.</span> <span class="nav-text">6.模板字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E6%A0%87%E7%AD%BE%E6%A8%A1%E6%9D%BF"><span class="nav-number">4.7.</span> <span class="nav-text">7.标签模板</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-String-row-API"><span class="nav-number">4.8.</span> <span class="nav-text">8.String.row API</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%94-%E6%95%B0%E5%80%BC%E6%89%A9%E5%B1%95"><span class="nav-number">5.</span> <span class="nav-text">五 数值扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%85%AB%E8%BF%9B%E5%88%B6%E8%A1%A8%E7%A4%BA%E6%B3%95"><span class="nav-number">5.1.</span> <span class="nav-text">1.二进制八进制表示法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Number-isFinite-%E5%92%8CNumber-isNaN"><span class="nav-number">5.2.</span> <span class="nav-text">2.Number.isFinite()和Number.isNaN()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Number-isInteger"><span class="nav-number">5.3.</span> <span class="nav-text">3.Number.isInteger</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Number-MAX-SAFE-INTEGER-Number-MIN-SFAE-INTEGER%E5%92%8CisSafeInterger"><span class="nav-number">5.4.</span> <span class="nav-text">4.Number.MAX_SAFE_INTEGER,Number.MIN_SFAE_INTEGER和isSafeInterger</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Math-trunc%E5%92%8CMath-sign"><span class="nav-number">5.5.</span> <span class="nav-text">5.Math.trunc和Math.sign</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-cbrt"><span class="nav-number">5.6.</span> <span class="nav-text">6.cbrt</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AD-%E6%95%B0%E7%BB%84%E6%89%A9%E5%B1%95"><span class="nav-number">6.</span> <span class="nav-text">六 数组扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Array-of"><span class="nav-number">6.1.</span> <span class="nav-text">1. Array.of</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Array-from"><span class="nav-number">6.2.</span> <span class="nav-text">2.Array.from</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Array-fill"><span class="nav-number">6.3.</span> <span class="nav-text">3.Array.fill</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-entries-%EF%BC%8Ckeys-%E5%92%8C-values"><span class="nav-number">6.4.</span> <span class="nav-text">4.entries()，keys() 和 values()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Array-copyWithin"><span class="nav-number">6.5.</span> <span class="nav-text">5.Array.copyWithin</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-findIndex%E5%92%8Cfind"><span class="nav-number">6.6.</span> <span class="nav-text">6.findIndex和find</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-includes"><span class="nav-number">6.7.</span> <span class="nav-text">7.includes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">6.8.</span> <span class="nav-text">8.扩展运算符</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%83-%E5%87%BD%E6%95%B0%E6%89%A9%E5%B1%95"><span class="nav-number">7.</span> <span class="nav-text">七 函数扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="nav-number">7.1.</span> <span class="nav-text">1.默认值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-rest%E5%8F%82%E6%95%B0"><span class="nav-number">7.2.</span> <span class="nav-text">3.rest参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="nav-number">7.3.</span> <span class="nav-text">4.箭头函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E7%BB%91%E5%AE%9A-this"><span class="nav-number">7.4.</span> <span class="nav-text">5.绑定 this</span></a></li><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">7.5.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AB-%E5%AF%B9%E8%B1%A1%E6%89%A9%E5%B1%95"><span class="nav-number">8.</span> <span class="nav-text">八 对象扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%B1%9E%E6%80%A7%E7%9A%84%E7%AE%80%E4%BB%8B%E8%A1%A8%E7%A4%BA%E6%B3%95"><span class="nav-number">8.1.</span> <span class="nav-text">1.属性的简介表示法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%8A%A8%E6%80%81key%E5%80%BC"><span class="nav-number">8.2.</span> <span class="nav-text">2.动态key值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Object-is"><span class="nav-number">8.3.</span> <span class="nav-text">3.Object.is</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Object-assign"><span class="nav-number">8.4.</span> <span class="nav-text">4.Object.assign</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B9%9D-Symbol"><span class="nav-number">9.</span> <span class="nav-text">九 Symbol</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Symbol%E7%AE%80%E5%8D%95%E4%B8%BE%E4%BE%8B"><span class="nav-number">9.1.</span> <span class="nav-text">1.Symbol简单举例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Symbol%E7%9A%84%E4%B8%80%E4%BA%9BAPI"><span class="nav-number">9.2.</span> <span class="nav-text">2.Symbol的一些API</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81-Map%E5%92%8CSet%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="nav-number">10.</span> <span class="nav-text">十 Map和Set数据结构</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-set%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="nav-number">10.1.</span> <span class="nav-text">1.set的基本用法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-WeakSet%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="nav-number">10.2.</span> <span class="nav-text">2.WeakSet基本用法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Map%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="nav-number">10.3.</span> <span class="nav-text">3.Map的基本用法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-WeakMap%E7%9A%84%E4%B8%80%E4%BA%9BAPI"><span class="nav-number">10.4.</span> <span class="nav-text">4.WeakMap的一些API</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%B8%80-proxy%E5%92%8Creflect"><span class="nav-number">11.</span> <span class="nav-text">十一 proxy和reflect</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Proxy"><span class="nav-number">11.1.</span> <span class="nav-text">1.Proxy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Reflect"><span class="nav-number">11.2.</span> <span class="nav-text">2.Reflect</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8"><span class="nav-number">11.3.</span> <span class="nav-text">3.简单应用</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%BA%8C-Class%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-number">12.</span> <span class="nav-text">十二 Class的基本语法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E7%AE%80%E4%BB%8B"><span class="nav-number">12.1.</span> <span class="nav-text">1.简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E7%BB%A7%E6%89%BF"><span class="nav-number">12.2.</span> <span class="nav-text">2.继承</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-super%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">12.3.</span> <span class="nav-text">3.super关键字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-getter%E5%92%8Csetter"><span class="nav-number">12.4.</span> <span class="nav-text">4.getter和setter</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="nav-number">12.5.</span> <span class="nav-text">5.静态方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E9%9D%99%E6%80%81%E5%B1%9E%E6%80%A7"><span class="nav-number">12.6.</span> <span class="nav-text">6.静态属性</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%B8%89-Promise"><span class="nav-number">13.</span> <span class="nav-text">十三 Promise</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95-1"><span class="nav-number">13.1.</span> <span class="nav-text">1.基本用法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Promise-prototype-then"><span class="nav-number">13.2.</span> <span class="nav-text">2.Promise.prototype.then()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Promise-prototype-catch"><span class="nav-number">13.3.</span> <span class="nav-text">3.Promise.prototype.catch()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Promise-all"><span class="nav-number">13.4.</span> <span class="nav-text">4.Promise.all</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Promise-race"><span class="nav-number">13.5.</span> <span class="nav-text">4.Promise.race</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E5%9B%9B-Iterator-%E5%92%8C-for%E2%80%A6of-%E5%BE%AA%E7%8E%AF"><span class="nav-number">14.</span> <span class="nav-text">十四 Iterator 和 for…of 循环</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E6%95%B0%E7%BB%84%E7%9A%84Symbol-iterator%E5%B1%9E%E6%80%A7"><span class="nav-number">14.1.</span> <span class="nav-text">1.数组的Symbol.iterator属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84Iterator%E6%8E%A5%E5%8F%A3"><span class="nav-number">14.2.</span> <span class="nav-text">2.自定义的Iterator接口</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%BA%94-Genertor"><span class="nav-number">15.</span> <span class="nav-text">十五 Genertor</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">15.1.</span> <span class="nav-text">1.基本概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E4%B8%8E-Iterator-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-number">15.2.</span> <span class="nav-text">2.与 Iterator 接口的关系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-next%E6%96%B9%E6%B3%95"><span class="nav-number">15.3.</span> <span class="nav-text">3.next方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Genertor%E7%9A%84%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8"><span class="nav-number">15.4.</span> <span class="nav-text">4.Genertor的简单应用</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E5%85%AD%E4%BF%AE%E9%A5%B0%E5%99%A8"><span class="nav-number">16.</span> <span class="nav-text">十六修饰器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E6%96%B9%E6%B3%95%E7%9A%84%E4%BF%AE%E9%A5%B0"><span class="nav-number">16.1.</span> <span class="nav-text">1.方法的修饰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E7%B1%BB%E7%9A%84%E4%BF%AE%E9%A5%B0"><span class="nav-number">16.2.</span> <span class="nav-text">2.类的修饰</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%B8%83%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="nav-number">17.</span> <span class="nav-text">十七模块化</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">高敬博</p>
  <div class="site-description" itemprop="description">我知道他好奇璀璨的宇宙，也知道今后我只会环绕他这一颗星球。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">豫ICP备2020032527号 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">高敬博</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      总字数  <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">61k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      阅读时长 <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">56 分钟</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        本站访客数 <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        本站访问次数 <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>


  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>




  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'http://gaojingbo.com/ES6%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93.html',]
      });
      });
  </script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : true,
      notify     : true,
      appId      : 'PRsrEYP9Sh9ajeO5sazsO3tP-gzGzoHsz',
      appKey     : 'UkGneo94Lj1hQVbUhwAiqeRe',
      placeholder: "输入留言吧",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
